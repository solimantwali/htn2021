"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = manageTableCellFocusInteraction;

/**
 * Function to help with focus management for selectable table cells.
 * @param {Object} key - React `event.key`.
 * @param {Element} ref - the cell to manage focus interaction for.
 */
function manageTableCellFocusInteraction(key, ref) {
  var tableRowChildren = Array.from(ref.parentElement.children);
  var columnIndex = tableRowChildren.indexOf(ref);
  var nextItemToFocus;

  if (key === 'ArrowLeft' || key === 'ArrowRight') {
    if (key === 'ArrowLeft' && columnIndex - 1 >= 0) {
      nextItemToFocus = tableRowChildren[columnIndex - 1];
    } else if (key === 'ArrowRight' && columnIndex + 1 < tableRowChildren.length) {
      nextItemToFocus = tableRowChildren[columnIndex + 1];
    }
  } else if (key === 'ArrowUp' || key === 'ArrowDown') {
    var tableBodyChildren = Array.from(ref.parentElement.parentElement.children);
    var rowIndex = tableBodyChildren.indexOf(ref.parentElement);
    var nextRow;

    if (key === 'ArrowUp' && rowIndex - 1 >= 0) {
      nextRow = tableBodyChildren[rowIndex - 1];
    } else if (key === 'ArrowDown' && rowIndex + 1 < tableBodyChildren.length) {
      nextRow = tableBodyChildren[rowIndex + 1];
    }

    if (nextRow && nextRow.children) {
      nextItemToFocus = nextRow.children[columnIndex];
    }
  }

  if (nextItemToFocus && nextItemToFocus.hasAttribute('tabindex')) {
    nextItemToFocus.focus();
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90YWJsZS9zcmMvbWFuYWdlVGFibGVDZWxsRm9jdXNJbnRlcmFjdGlvbi5qcyJdLCJuYW1lcyI6WyJtYW5hZ2VUYWJsZUNlbGxGb2N1c0ludGVyYWN0aW9uIiwia2V5IiwicmVmIiwidGFibGVSb3dDaGlsZHJlbiIsIkFycmF5IiwiZnJvbSIsInBhcmVudEVsZW1lbnQiLCJjaGlsZHJlbiIsImNvbHVtbkluZGV4IiwiaW5kZXhPZiIsIm5leHRJdGVtVG9Gb2N1cyIsImxlbmd0aCIsInRhYmxlQm9keUNoaWxkcmVuIiwicm93SW5kZXgiLCJuZXh0Um93IiwiaGFzQXR0cmlidXRlIiwiZm9jdXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2UsU0FBU0EsK0JBQVQsQ0FBeUNDLEdBQXpDLEVBQThDQyxHQUE5QyxFQUFtRDtBQUNoRSxNQUFNQyxnQkFBZ0IsR0FBR0MsS0FBSyxDQUFDQyxJQUFOLENBQVdILEdBQUcsQ0FBQ0ksYUFBSixDQUFrQkMsUUFBN0IsQ0FBekI7QUFDQSxNQUFNQyxXQUFXLEdBQUdMLGdCQUFnQixDQUFDTSxPQUFqQixDQUF5QlAsR0FBekIsQ0FBcEI7QUFFQSxNQUFJUSxlQUFKOztBQUNBLE1BQUlULEdBQUcsS0FBSyxXQUFSLElBQXVCQSxHQUFHLEtBQUssWUFBbkMsRUFBaUQ7QUFDL0MsUUFBSUEsR0FBRyxLQUFLLFdBQVIsSUFBdUJPLFdBQVcsR0FBRyxDQUFkLElBQW1CLENBQTlDLEVBQWlEO0FBQy9DRSxNQUFBQSxlQUFlLEdBQUdQLGdCQUFnQixDQUFDSyxXQUFXLEdBQUcsQ0FBZixDQUFsQztBQUNELEtBRkQsTUFFTyxJQUFJUCxHQUFHLEtBQUssWUFBUixJQUF3Qk8sV0FBVyxHQUFHLENBQWQsR0FBa0JMLGdCQUFnQixDQUFDUSxNQUEvRCxFQUF1RTtBQUM1RUQsTUFBQUEsZUFBZSxHQUFHUCxnQkFBZ0IsQ0FBQ0ssV0FBVyxHQUFHLENBQWYsQ0FBbEM7QUFDRDtBQUNGLEdBTkQsTUFNTyxJQUFJUCxHQUFHLEtBQUssU0FBUixJQUFxQkEsR0FBRyxLQUFLLFdBQWpDLEVBQThDO0FBQ25ELFFBQU1XLGlCQUFpQixHQUFHUixLQUFLLENBQUNDLElBQU4sQ0FBV0gsR0FBRyxDQUFDSSxhQUFKLENBQWtCQSxhQUFsQixDQUFnQ0MsUUFBM0MsQ0FBMUI7QUFDQSxRQUFNTSxRQUFRLEdBQUdELGlCQUFpQixDQUFDSCxPQUFsQixDQUEwQlAsR0FBRyxDQUFDSSxhQUE5QixDQUFqQjtBQUVBLFFBQUlRLE9BQUo7O0FBQ0EsUUFBSWIsR0FBRyxLQUFLLFNBQVIsSUFBcUJZLFFBQVEsR0FBRyxDQUFYLElBQWdCLENBQXpDLEVBQTRDO0FBQzFDQyxNQUFBQSxPQUFPLEdBQUdGLGlCQUFpQixDQUFDQyxRQUFRLEdBQUcsQ0FBWixDQUEzQjtBQUNELEtBRkQsTUFFTyxJQUFJWixHQUFHLEtBQUssV0FBUixJQUF1QlksUUFBUSxHQUFHLENBQVgsR0FBZUQsaUJBQWlCLENBQUNELE1BQTVELEVBQW9FO0FBQ3pFRyxNQUFBQSxPQUFPLEdBQUdGLGlCQUFpQixDQUFDQyxRQUFRLEdBQUcsQ0FBWixDQUEzQjtBQUNEOztBQUVELFFBQUlDLE9BQU8sSUFBSUEsT0FBTyxDQUFDUCxRQUF2QixFQUFpQztBQUMvQkcsTUFBQUEsZUFBZSxHQUFHSSxPQUFPLENBQUNQLFFBQVIsQ0FBaUJDLFdBQWpCLENBQWxCO0FBQ0Q7QUFDRjs7QUFFRCxNQUFJRSxlQUFlLElBQUlBLGVBQWUsQ0FBQ0ssWUFBaEIsQ0FBNkIsVUFBN0IsQ0FBdkIsRUFBaUU7QUFDL0RMLElBQUFBLGVBQWUsQ0FBQ00sS0FBaEI7QUFDRDtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGdW5jdGlvbiB0byBoZWxwIHdpdGggZm9jdXMgbWFuYWdlbWVudCBmb3Igc2VsZWN0YWJsZSB0YWJsZSBjZWxscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBrZXkgLSBSZWFjdCBgZXZlbnQua2V5YC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gcmVmIC0gdGhlIGNlbGwgdG8gbWFuYWdlIGZvY3VzIGludGVyYWN0aW9uIGZvci5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFuYWdlVGFibGVDZWxsRm9jdXNJbnRlcmFjdGlvbihrZXksIHJlZikge1xuICBjb25zdCB0YWJsZVJvd0NoaWxkcmVuID0gQXJyYXkuZnJvbShyZWYucGFyZW50RWxlbWVudC5jaGlsZHJlbilcbiAgY29uc3QgY29sdW1uSW5kZXggPSB0YWJsZVJvd0NoaWxkcmVuLmluZGV4T2YocmVmKVxuXG4gIGxldCBuZXh0SXRlbVRvRm9jdXNcbiAgaWYgKGtleSA9PT0gJ0Fycm93TGVmdCcgfHwga2V5ID09PSAnQXJyb3dSaWdodCcpIHtcbiAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0JyAmJiBjb2x1bW5JbmRleCAtIDEgPj0gMCkge1xuICAgICAgbmV4dEl0ZW1Ub0ZvY3VzID0gdGFibGVSb3dDaGlsZHJlbltjb2x1bW5JbmRleCAtIDFdXG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICdBcnJvd1JpZ2h0JyAmJiBjb2x1bW5JbmRleCArIDEgPCB0YWJsZVJvd0NoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgbmV4dEl0ZW1Ub0ZvY3VzID0gdGFibGVSb3dDaGlsZHJlbltjb2x1bW5JbmRleCArIDFdXG4gICAgfVxuICB9IGVsc2UgaWYgKGtleSA9PT0gJ0Fycm93VXAnIHx8IGtleSA9PT0gJ0Fycm93RG93bicpIHtcbiAgICBjb25zdCB0YWJsZUJvZHlDaGlsZHJlbiA9IEFycmF5LmZyb20ocmVmLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlbilcbiAgICBjb25zdCByb3dJbmRleCA9IHRhYmxlQm9keUNoaWxkcmVuLmluZGV4T2YocmVmLnBhcmVudEVsZW1lbnQpXG5cbiAgICBsZXQgbmV4dFJvd1xuICAgIGlmIChrZXkgPT09ICdBcnJvd1VwJyAmJiByb3dJbmRleCAtIDEgPj0gMCkge1xuICAgICAgbmV4dFJvdyA9IHRhYmxlQm9keUNoaWxkcmVuW3Jvd0luZGV4IC0gMV1cbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0Fycm93RG93bicgJiYgcm93SW5kZXggKyAxIDwgdGFibGVCb2R5Q2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBuZXh0Um93ID0gdGFibGVCb2R5Q2hpbGRyZW5bcm93SW5kZXggKyAxXVxuICAgIH1cblxuICAgIGlmIChuZXh0Um93ICYmIG5leHRSb3cuY2hpbGRyZW4pIHtcbiAgICAgIG5leHRJdGVtVG9Gb2N1cyA9IG5leHRSb3cuY2hpbGRyZW5bY29sdW1uSW5kZXhdXG4gICAgfVxuICB9XG5cbiAgaWYgKG5leHRJdGVtVG9Gb2N1cyAmJiBuZXh0SXRlbVRvRm9jdXMuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpKSB7XG4gICAgbmV4dEl0ZW1Ub0ZvY3VzLmZvY3VzKClcbiAgfVxufVxuIl19
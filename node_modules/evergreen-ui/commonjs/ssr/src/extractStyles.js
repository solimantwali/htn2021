"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = extractStyles;

var _react = _interopRequireDefault(require("react"));

var _server = require("glamor/server");

var _uiBox = require("ui-box");

function extractStyles() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var _boxExtractStyles = (0, _uiBox.extractStyles)(),
      cache = _boxExtractStyles.cache,
      styles = _boxExtractStyles.styles;

  var _renderStatic = (0, _server.renderStatic)(function () {
    return 'let glamor believe there is some html here';
  }),
      css = _renderStatic.css,
      ids = _renderStatic.ids;

  var evergreenCache = {
    uiBoxCache: cache,
    glamorIds: ids
  };
  var scriptProps = {
    type: 'application/json',
    id: 'evergreen-hydrate',
    dangerouslySetInnerHTML: {
      __html: JSON.stringify(evergreenCache)
    }
  };

  if (options.nonce) {
    scriptProps.nonce = options.nonce;
  }

  return {
    css: styles + '\n' + css,
    cache: evergreenCache,
    hydrationScript: /*#__PURE__*/_react["default"].createElement("script", scriptProps)
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zc3Ivc3JjL2V4dHJhY3RTdHlsZXMuanMiXSwibmFtZXMiOlsiZXh0cmFjdFN0eWxlcyIsIm9wdGlvbnMiLCJjYWNoZSIsInN0eWxlcyIsImNzcyIsImlkcyIsImV2ZXJncmVlbkNhY2hlIiwidWlCb3hDYWNoZSIsImdsYW1vcklkcyIsInNjcmlwdFByb3BzIiwidHlwZSIsImlkIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJKU09OIiwic3RyaW5naWZ5Iiwibm9uY2UiLCJoeWRyYXRpb25TY3JpcHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVlLFNBQVNBLGFBQVQsR0FBcUM7QUFBQSxNQUFkQyxPQUFjLHVFQUFKLEVBQUk7O0FBQ2xELDBCQUEwQiwyQkFBMUI7QUFBQSxNQUFRQyxLQUFSLHFCQUFRQSxLQUFSO0FBQUEsTUFBZUMsTUFBZixxQkFBZUEsTUFBZjs7QUFDQSxzQkFBcUIsMEJBQWE7QUFBQSxXQUFNLDRDQUFOO0FBQUEsR0FBYixDQUFyQjtBQUFBLE1BQVFDLEdBQVIsaUJBQVFBLEdBQVI7QUFBQSxNQUFhQyxHQUFiLGlCQUFhQSxHQUFiOztBQUVBLE1BQU1DLGNBQWMsR0FBRztBQUNyQkMsSUFBQUEsVUFBVSxFQUFFTCxLQURTO0FBRXJCTSxJQUFBQSxTQUFTLEVBQUVIO0FBRlUsR0FBdkI7QUFLQSxNQUFNSSxXQUFXLEdBQUc7QUFDbEJDLElBQUFBLElBQUksRUFBRSxrQkFEWTtBQUVsQkMsSUFBQUEsRUFBRSxFQUFFLG1CQUZjO0FBR2xCQyxJQUFBQSx1QkFBdUIsRUFBRTtBQUFFQyxNQUFBQSxNQUFNLEVBQUVDLElBQUksQ0FBQ0MsU0FBTCxDQUFlVCxjQUFmO0FBQVY7QUFIUCxHQUFwQjs7QUFNQSxNQUFJTCxPQUFPLENBQUNlLEtBQVosRUFBbUI7QUFDakJQLElBQUFBLFdBQVcsQ0FBQ08sS0FBWixHQUFvQmYsT0FBTyxDQUFDZSxLQUE1QjtBQUNEOztBQUVELFNBQU87QUFDTFosSUFBQUEsR0FBRyxFQUFFRCxNQUFNLEdBQUcsSUFBVCxHQUFnQkMsR0FEaEI7QUFFTEYsSUFBQUEsS0FBSyxFQUFFSSxjQUZGO0FBR0xXLElBQUFBLGVBQWUsZUFBRSwwQ0FBWVIsV0FBWjtBQUhaLEdBQVA7QUFLRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHJlbmRlclN0YXRpYyB9IGZyb20gJ2dsYW1vci9zZXJ2ZXInXG5pbXBvcnQgeyBleHRyYWN0U3R5bGVzIGFzIGJveEV4dHJhY3RTdHlsZXMgfSBmcm9tICd1aS1ib3gnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV4dHJhY3RTdHlsZXMob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgY2FjaGUsIHN0eWxlcyB9ID0gYm94RXh0cmFjdFN0eWxlcygpXG4gIGNvbnN0IHsgY3NzLCBpZHMgfSA9IHJlbmRlclN0YXRpYygoKSA9PiAnbGV0IGdsYW1vciBiZWxpZXZlIHRoZXJlIGlzIHNvbWUgaHRtbCBoZXJlJylcblxuICBjb25zdCBldmVyZ3JlZW5DYWNoZSA9IHtcbiAgICB1aUJveENhY2hlOiBjYWNoZSxcbiAgICBnbGFtb3JJZHM6IGlkc1xuICB9XG5cbiAgY29uc3Qgc2NyaXB0UHJvcHMgPSB7XG4gICAgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIGlkOiAnZXZlcmdyZWVuLWh5ZHJhdGUnLFxuICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogSlNPTi5zdHJpbmdpZnkoZXZlcmdyZWVuQ2FjaGUpIH1cbiAgfVxuXG4gIGlmIChvcHRpb25zLm5vbmNlKSB7XG4gICAgc2NyaXB0UHJvcHMubm9uY2UgPSBvcHRpb25zLm5vbmNlXG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNzczogc3R5bGVzICsgJ1xcbicgKyBjc3MsXG4gICAgY2FjaGU6IGV2ZXJncmVlbkNhY2hlLFxuICAgIGh5ZHJhdGlvblNjcmlwdDogPHNjcmlwdCB7Li4uc2NyaXB0UHJvcHN9IC8+XG4gIH1cbn1cbiJdfQ==
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _typeof = require("@babel/runtime/helpers/typeof");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _constants = require("../../constants");

var _StackingContext = _interopRequireDefault(require("./StackingContext"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var Stack = /*#__PURE__*/(0, _react.memo)(function Stack(_ref) {
  var children = _ref.children,
      _ref$value = _ref.value,
      value = _ref$value === void 0 ? _constants.StackingOrder.STACKING_CONTEXT : _ref$value;
  var previousValue = (0, _react.useContext)(_StackingContext["default"]);
  var currentValue = Math.max(value, previousValue);
  var nextValue = currentValue + 1;
  return /*#__PURE__*/_react["default"].createElement(_StackingContext["default"].Provider, {
    value: nextValue
  }, children(currentValue));
});
Stack.propTypes = {
  /**
   * Function that takes the current z-index and returns a React Node.
   * (zIndex) => ReactNode.
   */
  children: _propTypes["default"].func.isRequired,

  /**
   * Set the value of the stack. This will increment for children.
   */
  value: _propTypes["default"].number
};
var _default = Stack;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zdGFjay9zcmMvU3RhY2suanMiXSwibmFtZXMiOlsiU3RhY2siLCJjaGlsZHJlbiIsInZhbHVlIiwiU3RhY2tpbmdPcmRlciIsIlNUQUNLSU5HX0NPTlRFWFQiLCJwcmV2aW91c1ZhbHVlIiwiU3RhY2tpbmdDb250ZXh0IiwiY3VycmVudFZhbHVlIiwiTWF0aCIsIm1heCIsIm5leHRWYWx1ZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImZ1bmMiLCJpc1JlcXVpcmVkIiwibnVtYmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxLQUFLLGdCQUFHLGlCQUFLLFNBQVNBLEtBQVQsT0FBcUU7QUFBQSxNQUFwREMsUUFBb0QsUUFBcERBLFFBQW9EO0FBQUEsd0JBQTFDQyxLQUEwQztBQUFBLE1BQTFDQSxLQUEwQywyQkFBbENDLHlCQUFjQyxnQkFBb0I7QUFDdEYsTUFBTUMsYUFBYSxHQUFHLHVCQUFXQywyQkFBWCxDQUF0QjtBQUNBLE1BQU1DLFlBQVksR0FBR0MsSUFBSSxDQUFDQyxHQUFMLENBQVNQLEtBQVQsRUFBZ0JHLGFBQWhCLENBQXJCO0FBQ0EsTUFBTUssU0FBUyxHQUFHSCxZQUFZLEdBQUcsQ0FBakM7QUFFQSxzQkFBTyxnQ0FBQywyQkFBRCxDQUFpQixRQUFqQjtBQUEwQixJQUFBLEtBQUssRUFBRUc7QUFBakMsS0FBNkNULFFBQVEsQ0FBQ00sWUFBRCxDQUFyRCxDQUFQO0FBQ0QsQ0FOYSxDQUFkO0FBUUFQLEtBQUssQ0FBQ1csU0FBTixHQUFrQjtBQUNoQjtBQUNGO0FBQ0E7QUFDQTtBQUNFVixFQUFBQSxRQUFRLEVBQUVXLHNCQUFVQyxJQUFWLENBQWVDLFVBTFQ7O0FBT2hCO0FBQ0Y7QUFDQTtBQUNFWixFQUFBQSxLQUFLLEVBQUVVLHNCQUFVRztBQVZELENBQWxCO2VBYWVmLEsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgbWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuaW1wb3J0IHsgU3RhY2tpbmdPcmRlciB9IGZyb20gJy4uLy4uL2NvbnN0YW50cydcbmltcG9ydCBTdGFja2luZ0NvbnRleHQgZnJvbSAnLi9TdGFja2luZ0NvbnRleHQnXG5cbmNvbnN0IFN0YWNrID0gbWVtbyhmdW5jdGlvbiBTdGFjayh7IGNoaWxkcmVuLCB2YWx1ZSA9IFN0YWNraW5nT3JkZXIuU1RBQ0tJTkdfQ09OVEVYVCB9KSB7XG4gIGNvbnN0IHByZXZpb3VzVmFsdWUgPSB1c2VDb250ZXh0KFN0YWNraW5nQ29udGV4dClcbiAgY29uc3QgY3VycmVudFZhbHVlID0gTWF0aC5tYXgodmFsdWUsIHByZXZpb3VzVmFsdWUpXG4gIGNvbnN0IG5leHRWYWx1ZSA9IGN1cnJlbnRWYWx1ZSArIDFcblxuICByZXR1cm4gPFN0YWNraW5nQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17bmV4dFZhbHVlfT57Y2hpbGRyZW4oY3VycmVudFZhbHVlKX08L1N0YWNraW5nQ29udGV4dC5Qcm92aWRlcj5cbn0pXG5cblN0YWNrLnByb3BUeXBlcyA9IHtcbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIGN1cnJlbnQgei1pbmRleCBhbmQgcmV0dXJucyBhIFJlYWN0IE5vZGUuXG4gICAqICh6SW5kZXgpID0+IFJlYWN0Tm9kZS5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBzdGFjay4gVGhpcyB3aWxsIGluY3JlbWVudCBmb3IgY2hpbGRyZW4uXG4gICAqL1xuICB2YWx1ZTogUHJvcFR5cGVzLm51bWJlclxufVxuXG5leHBvcnQgZGVmYXVsdCBTdGFja1xuIl19
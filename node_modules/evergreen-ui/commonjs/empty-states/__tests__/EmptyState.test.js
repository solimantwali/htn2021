"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _icons = require("../../icons");

var _themes = require("../../themes");

var _SmallExample = _interopRequireDefault(require("../fixtures/SmallExample"));

var _SmallMinimalExample = _interopRequireDefault(require("../fixtures/SmallMinimalExample"));

var _EmptyState = _interopRequireDefault(require("../src/EmptyState"));

describe('Empty States', function () {
  it('does not crash when rendering', function () {
    expect(function () {
      return (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_EmptyState["default"], {
        title: "My Empty States",
        icon: /*#__PURE__*/_react["default"].createElement(_icons.LockIcon, {
          color: _themes.defaultTheme.tokens.colors.gray500
        }),
        iconBgColor: _themes.defaultTheme.tokens.colors.gray200
      }));
    }).not.toThrowError();
  });
  it('should render an icon and a title', function () {
    var _render = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_EmptyState["default"], {
      title: "My Empty States",
      icon: /*#__PURE__*/_react["default"].createElement(_icons.LockIcon, {
        color: _themes.defaultTheme.tokens.colors.gray500
      }),
      iconBgColor: _themes.defaultTheme.tokens.colors.gray200
    })),
        getByText = _render.getByText;

    expect(getByText('My Empty States')).toBeVisible();
  });
  it('should render decription when passed in', function () {
    var _render2 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_EmptyState["default"], {
      title: "My Empty States",
      icon: /*#__PURE__*/_react["default"].createElement(_icons.LockIcon, {
        color: _themes.defaultTheme.tokens.colors.gray500
      }),
      iconBgColor: _themes.defaultTheme.tokens.colors.gray200,
      description: "Some description"
    })),
        getByText = _render2.getByText;

    expect(getByText('Some description')).toBeVisible();
  });
  it('should render primary button when passed in', function () {
    var _render3 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_EmptyState["default"], {
      title: "My Empty States",
      icon: /*#__PURE__*/_react["default"].createElement(_icons.LockIcon, {
        color: _themes.defaultTheme.tokens.colors.gray500
      }),
      iconBgColor: _themes.defaultTheme.tokens.colors.gray200,
      primaryCta: /*#__PURE__*/_react["default"].createElement(_EmptyState["default"].PrimaryButton, null, "Primary Action")
    })),
        getByRole = _render3.getByRole;

    expect(getByRole('button', {
      name: 'Primary Action'
    })).toBeVisible();
  });
  it('should render link button when passed in', function () {
    var _render4 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_EmptyState["default"], {
      title: "My Empty States",
      icon: /*#__PURE__*/_react["default"].createElement(_icons.LockIcon, {
        color: _themes.defaultTheme.tokens.colors.gray500
      }),
      iconBgColor: _themes.defaultTheme.tokens.colors.gray200,
      anchorCta: /*#__PURE__*/_react["default"].createElement(_EmptyState["default"].LinkButton, {
        href: "https://segment.com/docs/",
        target: "_blank"
      }, "Link to Documentation")
    })),
        getByRole = _render4.getByRole;

    expect(getByRole('link')).toBeVisible();
  }); // Small Minimal Example with just icon and title

  it('should render icon and title in minimal popup', function () {
    var _render5 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_SmallMinimalExample["default"], {
      popoverProps: {
        isShown: true,
        statelessProps: {
          'data-testid': 'empty-state-container'
        }
      }
    })),
        getByTestId = _render5.getByTestId;

    var container = getByTestId('empty-state-container');
    expect(container.querySelector('svg')).toBeVisible();
    expect(container.querySelector('svg')).toHaveAttribute('data-icon', 'hand-up');
  }); // Small Example

  it('should render icon, title, description, CTA in popup', function () {
    var _render6 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_SmallExample["default"], {
      popoverProps: {
        isShown: true,
        statelessProps: {
          'data-testid': 'empty-state-container'
        }
      }
    })),
        getAllByText = _render6.getAllByText,
        getByRole = _render6.getByRole,
        getByTestId = _render6.getByTestId;

    var container = getByTestId('empty-state-container');
    expect(getAllByText('You need permission to access these sources')).toHaveLength(1);
    expect(getAllByText('If you believe you should have accesss to this page, please check with your Workspace Owner or request access below.')).toHaveLength(1);
    expect(getByRole('button', {
      name: 'Request Access'
    })).toBeVisible();
    expect(container.querySelector('svg')).toBeVisible();
    expect(container.querySelector('svg')).toHaveAttribute('data-icon', 'lock');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9lbXB0eS1zdGF0ZXMvX190ZXN0c19fL0VtcHR5U3RhdGUudGVzdC5qcyJdLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiZXhwZWN0IiwiZGVmYXVsdFRoZW1lIiwidG9rZW5zIiwiY29sb3JzIiwiZ3JheTUwMCIsImdyYXkyMDAiLCJub3QiLCJ0b1Rocm93RXJyb3IiLCJnZXRCeVRleHQiLCJ0b0JlVmlzaWJsZSIsImdldEJ5Um9sZSIsIm5hbWUiLCJpc1Nob3duIiwic3RhdGVsZXNzUHJvcHMiLCJnZXRCeVRlc3RJZCIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJnZXRBbGxCeVRleHQiLCJ0b0hhdmVMZW5ndGgiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQUEsUUFBUSxDQUFDLGNBQUQsRUFBaUIsWUFBTTtBQUM3QkMsRUFBQUEsRUFBRSxDQUFDLCtCQUFELEVBQWtDLFlBQU07QUFDeENDLElBQUFBLE1BQU0sQ0FBQztBQUFBLGFBQ0wsa0NBQ0UsZ0NBQUMsc0JBQUQ7QUFDRSxRQUFBLEtBQUssRUFBQyxpQkFEUjtBQUVFLFFBQUEsSUFBSSxlQUFFLGdDQUFDLGVBQUQ7QUFBVSxVQUFBLEtBQUssRUFBRUMscUJBQWFDLE1BQWIsQ0FBb0JDLE1BQXBCLENBQTJCQztBQUE1QyxVQUZSO0FBR0UsUUFBQSxXQUFXLEVBQUVILHFCQUFhQyxNQUFiLENBQW9CQyxNQUFwQixDQUEyQkU7QUFIMUMsUUFERixDQURLO0FBQUEsS0FBRCxDQUFOLENBUUVDLEdBUkYsQ0FRTUMsWUFSTjtBQVNELEdBVkMsQ0FBRjtBQVlBUixFQUFBQSxFQUFFLENBQUMsbUNBQUQsRUFBc0MsWUFBTTtBQUM1QyxrQkFBc0Isa0NBQ3BCLGdDQUFDLHNCQUFEO0FBQ0UsTUFBQSxLQUFLLEVBQUMsaUJBRFI7QUFFRSxNQUFBLElBQUksZUFBRSxnQ0FBQyxl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QUFWLENBQXdCLEtBQXhCLENBQUQsQ0FBTixDQUF1Q0MsZUFBdkMsQ0FBdUQsV0FBdkQsRUFBb0UsTUFBcEU7QUFDRCxHQWRDLENBQUY7QUFlRCxDQTVGTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCdcbmltcG9ydCB7IExvY2tJY29uIH0gZnJvbSAnLi4vLi4vaWNvbnMnXG5pbXBvcnQgeyBkZWZhdWx0VGhlbWUgfSBmcm9tICcuLi8uLi90aGVtZXMnXG5pbXBvcnQgU21hbGxFeGFtcGxlIGZyb20gJy4uL2ZpeHR1cmVzL1NtYWxsRXhhbXBsZSdcbmltcG9ydCBTbWFsbE1pbmltYWxFeGFtcGxlIGZyb20gJy4uL2ZpeHR1cmVzL1NtYWxsTWluaW1hbEV4YW1wbGUnXG5pbXBvcnQgRW1wdHlTdGF0ZSBmcm9tICcuLi9zcmMvRW1wdHlTdGF0ZSdcblxuZGVzY3JpYmUoJ0VtcHR5IFN0YXRlcycsICgpID0+IHtcbiAgaXQoJ2RvZXMgbm90IGNyYXNoIHdoZW4gcmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PlxuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1wdHlTdGF0ZVxuICAgICAgICAgIHRpdGxlPVwiTXkgRW1wdHkgU3RhdGVzXCJcbiAgICAgICAgICBpY29uPXs8TG9ja0ljb24gY29sb3I9e2RlZmF1bHRUaGVtZS50b2tlbnMuY29sb3JzLmdyYXk1MDB9IC8+fVxuICAgICAgICAgIGljb25CZ0NvbG9yPXtkZWZhdWx0VGhlbWUudG9rZW5zLmNvbG9ycy5ncmF5MjAwfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgICkubm90LnRvVGhyb3dFcnJvcigpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCByZW5kZXIgYW4gaWNvbiBhbmQgYSB0aXRsZScsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPEVtcHR5U3RhdGVcbiAgICAgICAgdGl0bGU9XCJNeSBFbXB0eSBTdGF0ZXNcIlxuICAgICAgICBpY29uPXs8TG9ja0ljb24gY29sb3I9e2RlZmF1bHRUaGVtZS50b2tlbnMuY29sb3JzLmdyYXk1MDB9IC8+fVxuICAgICAgICBpY29uQmdDb2xvcj17ZGVmYXVsdFRoZW1lLnRva2Vucy5jb2xvcnMuZ3JheTIwMH1cbiAgICAgIC8+XG4gICAgKVxuICAgIGV4cGVjdChnZXRCeVRleHQoJ015IEVtcHR5IFN0YXRlcycpKS50b0JlVmlzaWJsZSgpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCByZW5kZXIgZGVjcmlwdGlvbiB3aGVuIHBhc3NlZCBpbicsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPEVtcHR5U3RhdGVcbiAgICAgICAgdGl0bGU9XCJNeSBFbXB0eSBTdGF0ZXNcIlxuICAgICAgICBpY29uPXs8TG9ja0ljb24gY29sb3I9e2RlZmF1bHRUaGVtZS50b2tlbnMuY29sb3JzLmdyYXk1MDB9IC8+fVxuICAgICAgICBpY29uQmdDb2xvcj17ZGVmYXVsdFRoZW1lLnRva2Vucy5jb2xvcnMuZ3JheTIwMH1cbiAgICAgICAgZGVzY3JpcHRpb249XCJTb21lIGRlc2NyaXB0aW9uXCJcbiAgICAgIC8+XG4gICAgKVxuICAgIGV4cGVjdChnZXRCeVRleHQoJ1NvbWUgZGVzY3JpcHRpb24nKSkudG9CZVZpc2libGUoKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcmVuZGVyIHByaW1hcnkgYnV0dG9uIHdoZW4gcGFzc2VkIGluJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlSb2xlIH0gPSByZW5kZXIoXG4gICAgICA8RW1wdHlTdGF0ZVxuICAgICAgICB0aXRsZT1cIk15IEVtcHR5IFN0YXRlc1wiXG4gICAgICAgIGljb249ezxMb2NrSWNvbiBjb2xvcj17ZGVmYXVsdFRoZW1lLnRva2Vucy5jb2xvcnMuZ3JheTUwMH0gLz59XG4gICAgICAgIGljb25CZ0NvbG9yPXtkZWZhdWx0VGhlbWUudG9rZW5zLmNvbG9ycy5ncmF5MjAwfVxuICAgICAgICBwcmltYXJ5Q3RhPXs8RW1wdHlTdGF0ZS5QcmltYXJ5QnV0dG9uPlByaW1hcnkgQWN0aW9uPC9FbXB0eVN0YXRlLlByaW1hcnlCdXR0b24+fVxuICAgICAgLz5cbiAgICApXG4gICAgZXhwZWN0KGdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAnUHJpbWFyeSBBY3Rpb24nIH0pKS50b0JlVmlzaWJsZSgpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCByZW5kZXIgbGluayBidXR0b24gd2hlbiBwYXNzZWQgaW4nLCAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVJvbGUgfSA9IHJlbmRlcihcbiAgICAgIDxFbXB0eVN0YXRlXG4gICAgICAgIHRpdGxlPVwiTXkgRW1wdHkgU3RhdGVzXCJcbiAgICAgICAgaWNvbj17PExvY2tJY29uIGNvbG9yPXtkZWZhdWx0VGhlbWUudG9rZW5zLmNvbG9ycy5ncmF5NTAwfSAvPn1cbiAgICAgICAgaWNvbkJnQ29sb3I9e2RlZmF1bHRUaGVtZS50b2tlbnMuY29sb3JzLmdyYXkyMDB9XG4gICAgICAgIGFuY2hvckN0YT17XG4gICAgICAgICAgPEVtcHR5U3RhdGUuTGlua0J1dHRvbiBocmVmPVwiaHR0cHM6Ly9zZWdtZW50LmNvbS9kb2NzL1wiIHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgICAgICAgTGluayB0byBEb2N1bWVudGF0aW9uXG4gICAgICAgICAgPC9FbXB0eVN0YXRlLkxpbmtCdXR0b24+XG4gICAgICAgIH1cbiAgICAgIC8+XG4gICAgKVxuICAgIGV4cGVjdChnZXRCeVJvbGUoJ2xpbmsnKSkudG9CZVZpc2libGUoKVxuICB9KVxuXG4gIC8vIFNtYWxsIE1pbmltYWwgRXhhbXBsZSB3aXRoIGp1c3QgaWNvbiBhbmQgdGl0bGVcbiAgaXQoJ3Nob3VsZCByZW5kZXIgaWNvbiBhbmQgdGl0bGUgaW4gbWluaW1hbCBwb3B1cCcsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXG4gICAgICA8U21hbGxNaW5pbWFsRXhhbXBsZVxuICAgICAgICBwb3BvdmVyUHJvcHM9e3sgaXNTaG93bjogdHJ1ZSwgc3RhdGVsZXNzUHJvcHM6IHsgJ2RhdGEtdGVzdGlkJzogJ2VtcHR5LXN0YXRlLWNvbnRhaW5lcicgfSB9fVxuICAgICAgLz5cbiAgICApXG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0QnlUZXN0SWQoJ2VtcHR5LXN0YXRlLWNvbnRhaW5lcicpXG4gICAgZXhwZWN0KGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdzdmcnKSkudG9CZVZpc2libGUoKVxuICAgIGV4cGVjdChjb250YWluZXIucXVlcnlTZWxlY3Rvcignc3ZnJykpLnRvSGF2ZUF0dHJpYnV0ZSgnZGF0YS1pY29uJywgJ2hhbmQtdXAnKVxuICB9KVxuXG4gIC8vIFNtYWxsIEV4YW1wbGVcbiAgaXQoJ3Nob3VsZCByZW5kZXIgaWNvbiwgdGl0bGUsIGRlc2NyaXB0aW9uLCBDVEEgaW4gcG9wdXAnLCAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRBbGxCeVRleHQsIGdldEJ5Um9sZSwgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcihcbiAgICAgIDxTbWFsbEV4YW1wbGUgcG9wb3ZlclByb3BzPXt7IGlzU2hvd246IHRydWUsIHN0YXRlbGVzc1Byb3BzOiB7ICdkYXRhLXRlc3RpZCc6ICdlbXB0eS1zdGF0ZS1jb250YWluZXInIH0gfX0gLz5cbiAgICApXG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0QnlUZXN0SWQoJ2VtcHR5LXN0YXRlLWNvbnRhaW5lcicpXG4gICAgZXhwZWN0KGdldEFsbEJ5VGV4dCgnWW91IG5lZWQgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhlc2Ugc291cmNlcycpKS50b0hhdmVMZW5ndGgoMSlcbiAgICBleHBlY3QoXG4gICAgICBnZXRBbGxCeVRleHQoXG4gICAgICAgICdJZiB5b3UgYmVsaWV2ZSB5b3Ugc2hvdWxkIGhhdmUgYWNjZXNzcyB0byB0aGlzIHBhZ2UsIHBsZWFzZSBjaGVjayB3aXRoIHlvdXIgV29ya3NwYWNlIE93bmVyIG9yIHJlcXVlc3QgYWNjZXNzIGJlbG93LidcbiAgICAgIClcbiAgICApLnRvSGF2ZUxlbmd0aCgxKVxuICAgIGV4cGVjdChnZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ1JlcXVlc3QgQWNjZXNzJyB9KSkudG9CZVZpc2libGUoKVxuICAgIGV4cGVjdChjb250YWluZXIucXVlcnlTZWxlY3Rvcignc3ZnJykpLnRvQmVWaXNpYmxlKClcbiAgICBleHBlY3QoY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtaWNvbicsICdsb2NrJylcbiAgfSlcbn0pXG4iXX0=
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _typeof = require("@babel/runtime/helpers/typeof");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireWildcard(require("react"));

var _arrify = _interopRequireDefault(require("arrify"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _constants = require("../../constants");

var _icons = require("../../icons");

var _popover = require("../../popover");

var _OptionShapePropType = _interopRequireDefault(require("./OptionShapePropType"));

var _SelectedPropType = _interopRequireDefault(require("./SelectedPropType"));

var _SelectMenuContent = _interopRequireDefault(require("./SelectMenuContent"));

var _excluded = ["title", "width", "height", "options", "onSelect", "onDeselect", "onFilterChange", "selected", "position", "hasTitle", "hasFilter", "filterPlaceholder", "filterIcon", "detailView", "emptyView", "titleView", "isMultiSelect", "closeOnSelect", "itemRenderer", "itemHeight"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var noop = function noop() {};

var SelectMenu = /*#__PURE__*/(0, _react.memo)(function SelectMenu(props) {
  var title = props.title,
      _props$width = props.width,
      width = _props$width === void 0 ? 240 : _props$width,
      _props$height = props.height,
      height = _props$height === void 0 ? 248 : _props$height,
      options = props.options,
      _props$onSelect = props.onSelect,
      onSelect = _props$onSelect === void 0 ? noop : _props$onSelect,
      _props$onDeselect = props.onDeselect,
      onDeselect = _props$onDeselect === void 0 ? noop : _props$onDeselect,
      onFilterChange = props.onFilterChange,
      selected = props.selected,
      _props$position = props.position,
      position = _props$position === void 0 ? _constants.Position.BOTTOM_LEFT : _props$position,
      hasTitle = props.hasTitle,
      hasFilter = props.hasFilter,
      _props$filterPlacehol = props.filterPlaceholder,
      filterPlaceholder = _props$filterPlacehol === void 0 ? 'Filter...' : _props$filterPlacehol,
      _props$filterIcon = props.filterIcon,
      filterIcon = _props$filterIcon === void 0 ? _icons.SearchIcon : _props$filterIcon,
      detailView = props.detailView,
      emptyView = props.emptyView,
      titleView = props.titleView,
      _props$isMultiSelect = props.isMultiSelect,
      isMultiSelect = _props$isMultiSelect === void 0 ? false : _props$isMultiSelect,
      _props$closeOnSelect = props.closeOnSelect,
      closeOnSelect = _props$closeOnSelect === void 0 ? false : _props$closeOnSelect,
      itemRenderer = props.itemRenderer,
      itemHeight = props.itemHeight,
      rest = (0, _objectWithoutProperties2["default"])(props, _excluded);
  var selectedArray = (0, _react.useMemo)(function () {
    return (0, _arrify["default"])(selected);
  }, [selected]);
  return /*#__PURE__*/_react["default"].createElement(_popover.Popover, (0, _extends2["default"])({
    minWidth: width,
    position: position,
    minHeight: height,
    content: function content(_ref) {
      var close = _ref.close;
      return /*#__PURE__*/_react["default"].createElement(_SelectMenuContent["default"], {
        width: width,
        height: height,
        options: options,
        title: title,
        hasFilter: hasFilter,
        filterPlaceholder: filterPlaceholder,
        filterIcon: filterIcon,
        hasTitle: hasTitle,
        isMultiSelect: isMultiSelect,
        titleView: titleView,
        listProps: {
          onSelect: onSelect,
          onDeselect: onDeselect,
          onFilterChange: onFilterChange,
          selected: selectedArray,
          renderItem: itemRenderer,
          optionSize: itemHeight
        },
        close: close,
        detailView: typeof detailView === 'function' ? detailView({
          close: close
        }) : detailView,
        emptyView: typeof emptyView === 'function' ? emptyView({
          close: close
        }) : emptyView,
        closeOnSelect: closeOnSelect
      });
    }
  }, rest));
});
SelectMenu.propTypes = {
  /**
   * The title of the Select Menu.
   */
  title: _propTypes["default"].string,

  /**
   * The width of the Select Menu.
   */
  width: _propTypes["default"].oneOfType([_propTypes["default"].string, _propTypes["default"].number]),

  /**
   * The height of the Select Menu.
   */
  height: _propTypes["default"].oneOfType([_propTypes["default"].string, _propTypes["default"].number]),

  /**
   * The options to show in the menu.
   * [{ label: String, value: String | Number }]
   */
  options: _propTypes["default"].arrayOf(_OptionShapePropType["default"]),

  /**
   * Function that is called when an option is selected.
   */
  onSelect: _propTypes["default"].func,

  /**
   * Function that is called when an option is deselected.
   */
  onDeselect: _propTypes["default"].func,

  /**
   * The selected value/values.
   */
  selected: _SelectedPropType["default"],

  /**
   * When true, multi select is accounted for.
   */
  isMultiSelect: _propTypes["default"].bool,

  /**
   * When true, show the title.
   */
  hasTitle: _propTypes["default"].bool,

  /**
   * When true, show the filter.
   */
  hasFilter: _propTypes["default"].bool,

  /**
   * The placeholder of the search filter.
   */
  filterPlaceholder: _propTypes["default"].string,

  /**
   * The icon of the search filter.
   */
  filterIcon: _propTypes["default"].oneOfType([_propTypes["default"].elementType, _propTypes["default"].element]),

  /**
   * Function that is called as the onChange() event for the filter.
   */
  onFilterChange: _propTypes["default"].func,

  /**
   * The position of the Select Menu.
   */
  position: _propTypes["default"].oneOf([_constants.Position.TOP, _constants.Position.TOP_LEFT, _constants.Position.TOP_RIGHT, _constants.Position.BOTTOM, _constants.Position.BOTTOM_LEFT, _constants.Position.BOTTOM_RIGHT]),

  /**
   * Can be a function that returns a node, or a node itself, that is
   * rendered on the right side of the Select Menu to give additional
   * information when an option is selected.
   */
  detailView: _propTypes["default"].oneOfType([_propTypes["default"].func, _propTypes["default"].node]),

  /**
   * Can be a function that returns a node, or a node itself, that is
   * rendered in the header section of the Select Menu to customize
   * the header.
   */
  titleView: _propTypes["default"].oneOfType([_propTypes["default"].func, _propTypes["default"].node]),

  /**
   * Can be a function that returns a node, or a node itself, that is
   * rendered instead of the options list when there are no options.
   */
  emptyView: _propTypes["default"].oneOfType([_propTypes["default"].func, _propTypes["default"].node]),

  /*
   * When true, menu closes on option selection.
   */
  closeOnSelect: _propTypes["default"].bool,

  /**
   * Can pass a method that can be used to render custom items in the
   * select menu
   */
  itemRenderer: _propTypes["default"].func,

  /**
   * The height of the items in the select menu list
   */
  itemHeight: _propTypes["default"].number
};
var _default = SelectMenu;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZWxlY3QtbWVudS9zcmMvU2VsZWN0TWVudS5qcyJdLCJuYW1lcyI6WyJub29wIiwiU2VsZWN0TWVudSIsInByb3BzIiwidGl0bGUiLCJ3aWR0aCIsImhlaWdodCIsIm9wdGlvbnMiLCJvblNlbGVjdCIsIm9uRGVzZWxlY3QiLCJvbkZpbHRlckNoYW5nZSIsInNlbGVjdGVkIiwicG9zaXRpb24iLCJQb3NpdGlvbiIsIkJPVFRPTV9MRUZUIiwiaGFzVGl0bGUiLCJoYXNGaWx0ZXIiLCJmaWx0ZXJQbGFjZWhvbGRlciIsImZpbHRlckljb24iLCJTZWFyY2hJY29uIiwiZGV0YWlsVmlldyIsImVtcHR5VmlldyIsInRpdGxlVmlldyIsImlzTXVsdGlTZWxlY3QiLCJjbG9zZU9uU2VsZWN0IiwiaXRlbVJlbmRlcmVyIiwiaXRlbUhlaWdodCIsInJlc3QiLCJzZWxlY3RlZEFycmF5IiwiY2xvc2UiLCJyZW5kZXJJdGVtIiwib3B0aW9uU2l6ZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInN0cmluZyIsIm9uZU9mVHlwZSIsIm51bWJlciIsImFycmF5T2YiLCJPcHRpb25TaGFwZVByb3BUeXBlIiwiZnVuYyIsIlNlbGVjdGVkUHJvcFR5cGUiLCJib29sIiwiZWxlbWVudFR5cGUiLCJlbGVtZW50Iiwib25lT2YiLCJUT1AiLCJUT1BfTEVGVCIsIlRPUF9SSUdIVCIsIkJPVFRPTSIsIkJPVFRPTV9SSUdIVCIsIm5vZGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBLElBQU1BLElBQUksR0FBRyxTQUFQQSxJQUFPLEdBQU0sQ0FBRSxDQUFyQjs7QUFFQSxJQUFNQyxVQUFVLGdCQUFHLGlCQUFLLFNBQVNBLFVBQVQsQ0FBb0JDLEtBQXBCLEVBQTJCO0FBQ2pELE1BQ0VDLEtBREYsR0FzQklELEtBdEJKLENBQ0VDLEtBREY7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UyxzQkFBVVEsSUF0R0o7O0FBd0dyQjtBQUNGO0FBQ0E7QUFDQTtBQUNFaEIsRUFBQUEsWUFBWSxFQUFFUSxzQkFBVU0sSUE1R0g7O0FBOEdyQjtBQUNGO0FBQ0E7QUFDRWIsRUFBQUEsVUFBVSxFQUFFTyxzQkFBVUc7QUFqSEQsQ0FBdkI7ZUFvSGVsQyxVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IG1lbW8sIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCBhcnJpZnkgZnJvbSAnYXJyaWZ5J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tICcuLi8uLi9jb25zdGFudHMnXG5pbXBvcnQgeyBTZWFyY2hJY29uIH0gZnJvbSAnLi4vLi4vaWNvbnMnXG5pbXBvcnQgeyBQb3BvdmVyIH0gZnJvbSAnLi4vLi4vcG9wb3ZlcidcbmltcG9ydCBPcHRpb25TaGFwZVByb3BUeXBlIGZyb20gJy4vT3B0aW9uU2hhcGVQcm9wVHlwZSdcbmltcG9ydCBTZWxlY3RlZFByb3BUeXBlIGZyb20gJy4vU2VsZWN0ZWRQcm9wVHlwZSdcbmltcG9ydCBTZWxlY3RNZW51Q29udGVudCBmcm9tICcuL1NlbGVjdE1lbnVDb250ZW50J1xuXG5jb25zdCBub29wID0gKCkgPT4ge31cblxuY29uc3QgU2VsZWN0TWVudSA9IG1lbW8oZnVuY3Rpb24gU2VsZWN0TWVudShwcm9wcykge1xuICBjb25zdCB7XG4gICAgdGl0bGUsXG4gICAgd2lkdGggPSAyNDAsXG4gICAgaGVpZ2h0ID0gMjQ4LFxuICAgIG9wdGlvbnMsXG4gICAgb25TZWxlY3QgPSBub29wLFxuICAgIG9uRGVzZWxlY3QgPSBub29wLFxuICAgIG9uRmlsdGVyQ2hhbmdlLFxuICAgIHNlbGVjdGVkLFxuICAgIHBvc2l0aW9uID0gUG9zaXRpb24uQk9UVE9NX0xFRlQsXG4gICAgaGFzVGl0bGUsXG4gICAgaGFzRmlsdGVyLFxuICAgIGZpbHRlclBsYWNlaG9sZGVyID0gJ0ZpbHRlci4uLicsXG4gICAgZmlsdGVySWNvbiA9IFNlYXJjaEljb24sXG4gICAgZGV0YWlsVmlldyxcbiAgICBlbXB0eVZpZXcsXG4gICAgdGl0bGVWaWV3LFxuICAgIGlzTXVsdGlTZWxlY3QgPSBmYWxzZSxcbiAgICBjbG9zZU9uU2VsZWN0ID0gZmFsc2UsXG4gICAgaXRlbVJlbmRlcmVyLFxuICAgIGl0ZW1IZWlnaHQsXG4gICAgLi4ucmVzdFxuICB9ID0gcHJvcHNcblxuICBjb25zdCBzZWxlY3RlZEFycmF5ID0gdXNlTWVtbygoKSA9PiBhcnJpZnkoc2VsZWN0ZWQpLCBbc2VsZWN0ZWRdKVxuXG4gIHJldHVybiAoXG4gICAgPFBvcG92ZXJcbiAgICAgIG1pbldpZHRoPXt3aWR0aH1cbiAgICAgIHBvc2l0aW9uPXtwb3NpdGlvbn1cbiAgICAgIG1pbkhlaWdodD17aGVpZ2h0fVxuICAgICAgY29udGVudD17KHsgY2xvc2UgfSkgPT4gKFxuICAgICAgICA8U2VsZWN0TWVudUNvbnRlbnRcbiAgICAgICAgICB3aWR0aD17d2lkdGh9XG4gICAgICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICAgICAgb3B0aW9ucz17b3B0aW9uc31cbiAgICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgICAgaGFzRmlsdGVyPXtoYXNGaWx0ZXJ9XG4gICAgICAgICAgZmlsdGVyUGxhY2Vob2xkZXI9e2ZpbHRlclBsYWNlaG9sZGVyfVxuICAgICAgICAgIGZpbHRlckljb249e2ZpbHRlckljb259XG4gICAgICAgICAgaGFzVGl0bGU9e2hhc1RpdGxlfVxuICAgICAgICAgIGlzTXVsdGlTZWxlY3Q9e2lzTXVsdGlTZWxlY3R9XG4gICAgICAgICAgdGl0bGVWaWV3PXt0aXRsZVZpZXd9XG4gICAgICAgICAgbGlzdFByb3BzPXt7XG4gICAgICAgICAgICBvblNlbGVjdCxcbiAgICAgICAgICAgIG9uRGVzZWxlY3QsXG4gICAgICAgICAgICBvbkZpbHRlckNoYW5nZSxcbiAgICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZEFycmF5LFxuICAgICAgICAgICAgcmVuZGVySXRlbTogaXRlbVJlbmRlcmVyLFxuICAgICAgICAgICAgb3B0aW9uU2l6ZTogaXRlbUhlaWdodFxuICAgICAgICAgIH19XG4gICAgICAgICAgY2xvc2U9e2Nsb3NlfVxuICAgICAgICAgIGRldGFpbFZpZXc9e3R5cGVvZiBkZXRhaWxWaWV3ID09PSAnZnVuY3Rpb24nID8gZGV0YWlsVmlldyh7IGNsb3NlIH0pIDogZGV0YWlsVmlld31cbiAgICAgICAgICBlbXB0eVZpZXc9e3R5cGVvZiBlbXB0eVZpZXcgPT09ICdmdW5jdGlvbicgPyBlbXB0eVZpZXcoeyBjbG9zZSB9KSA6IGVtcHR5Vmlld31cbiAgICAgICAgICBjbG9zZU9uU2VsZWN0PXtjbG9zZU9uU2VsZWN0fVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHsuLi5yZXN0fVxuICAgIC8+XG4gIClcbn0pXG5cblNlbGVjdE1lbnUucHJvcFR5cGVzID0ge1xuICAvKipcbiAgICogVGhlIHRpdGxlIG9mIHRoZSBTZWxlY3QgTWVudS5cbiAgICovXG4gIHRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggb2YgdGhlIFNlbGVjdCBNZW51LlxuICAgKi9cbiAgd2lkdGg6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKSxcblxuICAvKipcbiAgICogVGhlIGhlaWdodCBvZiB0aGUgU2VsZWN0IE1lbnUuXG4gICAqL1xuICBoZWlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKSxcblxuICAvKipcbiAgICogVGhlIG9wdGlvbnMgdG8gc2hvdyBpbiB0aGUgbWVudS5cbiAgICogW3sgbGFiZWw6IFN0cmluZywgdmFsdWU6IFN0cmluZyB8IE51bWJlciB9XVxuICAgKi9cbiAgb3B0aW9uczogUHJvcFR5cGVzLmFycmF5T2YoT3B0aW9uU2hhcGVQcm9wVHlwZSksXG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYW4gb3B0aW9uIGlzIHNlbGVjdGVkLlxuICAgKi9cbiAgb25TZWxlY3Q6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGFuIG9wdGlvbiBpcyBkZXNlbGVjdGVkLlxuICAgKi9cbiAgb25EZXNlbGVjdDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIFRoZSBzZWxlY3RlZCB2YWx1ZS92YWx1ZXMuXG4gICAqL1xuICBzZWxlY3RlZDogU2VsZWN0ZWRQcm9wVHlwZSxcblxuICAvKipcbiAgICogV2hlbiB0cnVlLCBtdWx0aSBzZWxlY3QgaXMgYWNjb3VudGVkIGZvci5cbiAgICovXG4gIGlzTXVsdGlTZWxlY3Q6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3cgdGhlIHRpdGxlLlxuICAgKi9cbiAgaGFzVGl0bGU6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3cgdGhlIGZpbHRlci5cbiAgICovXG4gIGhhc0ZpbHRlcjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFRoZSBwbGFjZWhvbGRlciBvZiB0aGUgc2VhcmNoIGZpbHRlci5cbiAgICovXG4gIGZpbHRlclBsYWNlaG9sZGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgaWNvbiBvZiB0aGUgc2VhcmNoIGZpbHRlci5cbiAgICovXG4gIGZpbHRlckljb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5lbGVtZW50VHlwZSwgUHJvcFR5cGVzLmVsZW1lbnRdKSxcblxuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgYXMgdGhlIG9uQ2hhbmdlKCkgZXZlbnQgZm9yIHRoZSBmaWx0ZXIuXG4gICAqL1xuICBvbkZpbHRlckNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgU2VsZWN0IE1lbnUuXG4gICAqL1xuICBwb3NpdGlvbjogUHJvcFR5cGVzLm9uZU9mKFtcbiAgICBQb3NpdGlvbi5UT1AsXG4gICAgUG9zaXRpb24uVE9QX0xFRlQsXG4gICAgUG9zaXRpb24uVE9QX1JJR0hULFxuICAgIFBvc2l0aW9uLkJPVFRPTSxcbiAgICBQb3NpdGlvbi5CT1RUT01fTEVGVCxcbiAgICBQb3NpdGlvbi5CT1RUT01fUklHSFRcbiAgXSksXG5cbiAgLyoqXG4gICAqIENhbiBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIG5vZGUsIG9yIGEgbm9kZSBpdHNlbGYsIHRoYXQgaXNcbiAgICogcmVuZGVyZWQgb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIFNlbGVjdCBNZW51IHRvIGdpdmUgYWRkaXRpb25hbFxuICAgKiBpbmZvcm1hdGlvbiB3aGVuIGFuIG9wdGlvbiBpcyBzZWxlY3RlZC5cbiAgICovXG4gIGRldGFpbFZpZXc6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMubm9kZV0pLFxuXG4gIC8qKlxuICAgKiBDYW4gYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBub2RlLCBvciBhIG5vZGUgaXRzZWxmLCB0aGF0IGlzXG4gICAqIHJlbmRlcmVkIGluIHRoZSBoZWFkZXIgc2VjdGlvbiBvZiB0aGUgU2VsZWN0IE1lbnUgdG8gY3VzdG9taXplXG4gICAqIHRoZSBoZWFkZXIuXG4gICAqL1xuICB0aXRsZVZpZXc6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMubm9kZV0pLFxuXG4gIC8qKlxuICAgKiBDYW4gYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBub2RlLCBvciBhIG5vZGUgaXRzZWxmLCB0aGF0IGlzXG4gICAqIHJlbmRlcmVkIGluc3RlYWQgb2YgdGhlIG9wdGlvbnMgbGlzdCB3aGVuIHRoZXJlIGFyZSBubyBvcHRpb25zLlxuICAgKi9cbiAgZW1wdHlWaWV3OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm5vZGVdKSxcblxuICAvKlxuICAgKiBXaGVuIHRydWUsIG1lbnUgY2xvc2VzIG9uIG9wdGlvbiBzZWxlY3Rpb24uXG4gICAqL1xuICBjbG9zZU9uU2VsZWN0OiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQ2FuIHBhc3MgYSBtZXRob2QgdGhhdCBjYW4gYmUgdXNlZCB0byByZW5kZXIgY3VzdG9tIGl0ZW1zIGluIHRoZVxuICAgKiBzZWxlY3QgbWVudVxuICAgKi9cbiAgaXRlbVJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogVGhlIGhlaWdodCBvZiB0aGUgaXRlbXMgaW4gdGhlIHNlbGVjdCBtZW51IGxpc3RcbiAgICovXG4gIGl0ZW1IZWlnaHQ6IFByb3BUeXBlcy5udW1iZXJcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0TWVudVxuIl19
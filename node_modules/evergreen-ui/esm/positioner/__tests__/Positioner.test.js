import _defineProperty from "@babel/runtime/helpers/esm/defineProperty";

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

import { Position } from '../../constants';
import getFittedPosition from '../src/getPosition';

var dimensions = function dimensions(overrides) {
  return _objectSpread({
    height: 100,
    width: 100
  }, overrides);
};

var targetRect = function targetRect(overrides) {
  return _objectSpread({
    x: 250,
    y: 150,
    width: 50,
    height: 30,
    top: 150,
    bottom: 150 - 30,
    left: 250,
    right: 200
  }, overrides);
};

var targetOffset = 6;

var viewport = function viewport(overrides) {
  return _objectSpread({
    height: 250,
    width: 850
  }, overrides);
};

describe('<Positioner />', function () {
  it('All positions work', function () {
    var generatedPositions = Object.values(Position).map(function (position) {
      return getFittedPosition({
        position: position,
        dimensions: dimensions(),
        targetRect: targetRect(),
        targetOffset: targetOffset,
        viewport: viewport()
      });
    });
    expect(generatedPositions).toMatchSnapshot();
  });
  it('Position.LEFT repositions to the right', function () {
    expect(getFittedPosition({
      position: Position.LEFT,
      dimensions: dimensions({
        width: 350
      }),
      targetRect: targetRect(),
      targetOffset: targetOffset,
      viewport: viewport()
    }));
  });
  it('Position.RIGHT repositions to the left', function () {
    expect(getFittedPosition({
      position: Position.RIGHT,
      dimensions: dimensions({
        width: 250
      }),
      targetRect: targetRect({
        left: 800,
        x: 800,
        right: 850
      }),
      targetOffset: targetOffset,
      viewport: viewport()
    })).toMatchSnapshot();
  });
  it('Position.LEFT and Position.RIGHT will use the side with the most space', function () {
    expect(getFittedPosition({
      position: Position.LEFT,
      dimensions: dimensions({
        width: 250
      }),
      targetRect: targetRect({
        left: 50,
        x: 50,
        right: 100
      }),
      targetOffset: targetOffset,
      viewport: viewport({
        width: 300
      })
    })).toMatchSnapshot();
  });
  it('Position.TOP repositions to the bottom', function () {
    expect(getFittedPosition({
      position: Position.TOP,
      dimensions: dimensions({
        height: 250
      }),
      targetRect: targetRect({
        top: 20,
        y: 20
      }),
      targetOffset: targetOffset,
      viewport: viewport()
    })).toMatchSnapshot();
  });
  it('Position.BOTTOM repositions to the top', function () {
    expect(getFittedPosition({
      position: Position.BOTTOM,
      dimensions: dimensions({
        height: 250
      }),
      targetRect: targetRect({
        top: 290,
        y: 290,
        bottom: 295,
        height: 5
      }),
      targetOffset: targetOffset,
      viewport: viewport({
        height: 300
      })
    })).toMatchSnapshot();
  });
  it('It pushes the rect to the right if overflowing on the left side', function () {
    expect(getFittedPosition({
      position: Position.BOTTOM,
      dimensions: dimensions({
        width: 250,
        height: 110
      }),
      targetRect: targetRect({
        left: 10,
        x: 10,
        top: 10,
        y: 10,
        bottom: 20
      }),
      targetOffset: targetOffset,
      viewport: viewport()
    })).toMatchSnapshot();
  });
  it('It pushes the rect to the top if overflowing on the bottom side', function () {
    expect(getFittedPosition({
      position: Position.TOP,
      dimensions: dimensions({
        width: 50,
        height: 100
      }),
      targetRect: targetRect({
        left: 100,
        x: 100,
        top: 550,
        y: 550
      }),
      targetOffset: targetOffset,
      viewport: viewport({
        height: 500
      })
    })).toMatchSnapshot();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9wb3NpdGlvbmVyL19fdGVzdHNfXy9Qb3NpdGlvbmVyLnRlc3QuanMiXSwibmFtZXMiOlsiUG9zaXRpb24iLCJnZXRGaXR0ZWRQb3NpdGlvbiIsImRpbWVuc2lvbnMiLCJvdmVycmlkZXMiLCJoZWlnaHQiLCJ3aWR0aCIsInRhcmdldFJlY3QiLCJ4IiwieSIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsInRhcmdldE9mZnNldCIsInZpZXdwb3J0IiwiZGVzY3JpYmUiLCJpdCIsImdlbmVyYXRlZFBvc2l0aW9ucyIsIk9iamVjdCIsInZhbHVlcyIsIm1hcCIsInBvc2l0aW9uIiwiZXhwZWN0IiwidG9NYXRjaFNuYXBzaG90IiwiTEVGVCIsIlJJR0hUIiwiVE9QIiwiQk9UVE9NIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxTQUFTQSxRQUFULFFBQXlCLGlCQUF6QjtBQUNBLE9BQU9DLGlCQUFQLE1BQThCLG9CQUE5Qjs7QUFFQSxJQUFNQyxVQUFVLEdBQUcsU0FBYkEsVUFBYSxDQUFBQyxTQUFTO0FBQUE7QUFDMUJDLElBQUFBLE1BQU0sRUFBRSxHQURrQjtBQUUxQkMsSUFBQUEsS0FBSyxFQUFFO0FBRm1CLEtBR3ZCRixTQUh1QjtBQUFBLENBQTVCOztBQU1BLElBQU1HLFVBQVUsR0FBRyxTQUFiQSxVQUFhLENBQUFILFNBQVM7QUFBQTtBQUMxQkksSUFBQUEsQ0FBQyxFQUFFLEdBRHVCO0FBRTFCQyxJQUFBQSxDQUFDLEVBQUUsR0FGdUI7QUFHMUJILElBQUFBLEtBQUssRUFBRSxFQUhtQjtBQUkxQkQsSUFBQUEsTUFBTSxFQUFFLEVBSmtCO0FBSzFCSyxJQUFBQSxHQUFHLEVBQUUsR0FMcUI7QUFNMUJDLElBQUFBLE1BQU0sRUFBRSxNQUFNLEVBTlk7QUFPMUJDLElBQUFBLElBQUksRUFBRSxHQVBvQjtBQVExQkMsSUFBQUEsS0FBSyxFQUFFO0FBUm1CLEtBU3ZCVCxTQVR1QjtBQUFBLENBQTVCOztBQVlBLElBQU1VLFlB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QVEsRUFBRUEsUUFBUSxDQUFDO0FBQUVWLFFBQUFBLE1BQU0sRUFBRTtBQUFWLE9BQUQ7QUFMRixLQUFELENBRGIsQ0FBTixDQVFFbUIsZUFSRjtBQVNELEdBVkMsQ0FBRjtBQVdELENBakdPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4uLy4uL2NvbnN0YW50cydcbmltcG9ydCBnZXRGaXR0ZWRQb3NpdGlvbiBmcm9tICcuLi9zcmMvZ2V0UG9zaXRpb24nXG5cbmNvbnN0IGRpbWVuc2lvbnMgPSBvdmVycmlkZXMgPT4gKHtcbiAgaGVpZ2h0OiAxMDAsXG4gIHdpZHRoOiAxMDAsXG4gIC4uLm92ZXJyaWRlc1xufSlcblxuY29uc3QgdGFyZ2V0UmVjdCA9IG92ZXJyaWRlcyA9PiAoe1xuICB4OiAyNTAsXG4gIHk6IDE1MCxcbiAgd2lkdGg6IDUwLFxuICBoZWlnaHQ6IDMwLFxuICB0b3A6IDE1MCxcbiAgYm90dG9tOiAxNTAgLSAzMCxcbiAgbGVmdDogMjUwLFxuICByaWdodDogMjAwLFxuICAuLi5vdmVycmlkZXNcbn0pXG5cbmNvbnN0IHRhcmdldE9mZnNldCA9IDZcblxuY29uc3Qgdmlld3BvcnQgPSBvdmVycmlkZXMgPT4gKHtcbiAgaGVpZ2h0OiAyNTAsXG4gIHdpZHRoOiA4NTAsXG4gIC4uLm92ZXJyaWRlc1xufSlcblxuZGVzY3JpYmUoJzxQb3NpdGlvbmVyIC8+JywgKCkgPT4ge1xuICBpdCgnQWxsIHBvc2l0aW9ucyB3b3JrJywgKCkgPT4ge1xuICAgIGNvbnN0IGdlbmVyYXRlZFBvc2l0aW9ucyA9IE9iamVjdC52YWx1ZXMoUG9zaXRpb24pLm1hcChwb3NpdGlvbiA9PlxuICAgICAgZ2V0Rml0dGVkUG9zaXRpb24oe1xuICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgZGltZW5zaW9uczogZGltZW5zaW9ucygpLFxuICAgICAgICB0YXJnZXRSZWN0OiB0YXJnZXRSZWN0KCksXG4gICAgICAgIHRhcmdldE9mZnNldCxcbiAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0KClcbiAgICAgIH0pXG4gICAgKVxuICAgIGV4cGVjdChnZW5lcmF0ZWRQb3NpdGlvbnMpLnRvTWF0Y2hTbmFwc2hvdCgpXG4gIH0pXG5cbiAgaXQoJ1Bvc2l0aW9uLkxFRlQgcmVwb3NpdGlvbnMgdG8gdGhlIHJpZ2h0JywgKCkgPT4ge1xuICAgIGV4cGVjdChcbiAgICAgIGdldEZpdHRlZFBvc2l0aW9uKHtcbiAgICAgICAgcG9zaXRpb246IFBvc2l0aW9uLkxFRlQsXG4gICAgICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMoeyB3aWR0aDogMzUwIH0pLFxuICAgICAgICB0YXJnZXRSZWN0OiB0YXJnZXRSZWN0KCksXG4gICAgICAgIHRhcmdldE9mZnNldCxcbiAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0KClcbiAgICAgIH0pXG4gICAgKVxuICB9KVxuXG4gIGl0KCdQb3NpdGlvbi5SSUdIVCByZXBvc2l0aW9ucyB0byB0aGUgbGVmdCcsICgpID0+IHtcbiAgICBleHBlY3QoXG4gICAgICBnZXRGaXR0ZWRQb3NpdGlvbih7XG4gICAgICAgIHBvc2l0aW9uOiBQb3NpdGlvbi5SSUdIVCxcbiAgICAgICAgZGltZW5zaW9uczogZGltZW5zaW9ucyh7IHdpZHRoOiAyNTAgfSksXG4gICAgICAgIHRhcmdldFJlY3Q6IHRhcmdldFJlY3QoeyBsZWZ0OiA4MDAsIHg6IDgwMCwgcmlnaHQ6IDg1MCB9KSxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0LFxuICAgICAgICB2aWV3cG9ydDogdmlld3BvcnQoKVxuICAgICAgfSlcbiAgICApLnRvTWF0Y2hTbmFwc2hvdCgpXG4gIH0pXG5cbiAgaXQoJ1Bvc2l0aW9uLkxFRlQgYW5kIFBvc2l0aW9uLlJJR0hUIHdpbGwgdXNlIHRoZSBzaWRlIHdpdGggdGhlIG1vc3Qgc3BhY2UnLCAoKSA9PiB7XG4gICAgZXhwZWN0KFxuICAgICAgZ2V0Rml0dGVkUG9zaXRpb24oe1xuICAgICAgICBwb3NpdGlvbjogUG9zaXRpb24uTEVGVCxcbiAgICAgICAgZGltZW5zaW9uczogZGltZW5zaW9ucyh7IHdpZHRoOiAyNTAgfSksXG4gICAgICAgIHRhcmdldFJlY3Q6IHRhcmdldFJlY3QoeyBsZWZ0OiA1MCwgeDogNTAsIHJpZ2h0OiAxMDAgfSksXG4gICAgICAgIHRhcmdldE9mZnNldCxcbiAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0KHsgd2lkdGg6IDMwMCB9KVxuICAgICAgfSlcbiAgICApLnRvTWF0Y2hTbmFwc2hvdCgpXG4gIH0pXG5cbiAgaXQoJ1Bvc2l0aW9uLlRPUCByZXBvc2l0aW9ucyB0byB0aGUgYm90dG9tJywgKCkgPT4ge1xuICAgIGV4cGVjdChcbiAgICAgIGdldEZpdHRlZFBvc2l0aW9uKHtcbiAgICAgICAgcG9zaXRpb246IFBvc2l0aW9uLlRPUCxcbiAgICAgICAgZGltZW5zaW9uczogZGltZW5zaW9ucyh7IGhlaWdodDogMjUwIH0pLFxuICAgICAgICB0YXJnZXRSZWN0OiB0YXJnZXRSZWN0KHsgdG9wOiAyMCwgeTogMjAgfSksXG4gICAgICAgIHRhcmdldE9mZnNldCxcbiAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0KClcbiAgICAgIH0pXG4gICAgKS50b01hdGNoU25hcHNob3QoKVxuICB9KVxuXG4gIGl0KCdQb3NpdGlvbi5CT1RUT00gcmVwb3NpdGlvbnMgdG8gdGhlIHRvcCcsICgpID0+IHtcbiAgICBleHBlY3QoXG4gICAgICBnZXRGaXR0ZWRQb3NpdGlvbih7XG4gICAgICAgIHBvc2l0aW9uOiBQb3NpdGlvbi5CT1RUT00sXG4gICAgICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMoeyBoZWlnaHQ6IDI1MCB9KSxcbiAgICAgICAgdGFyZ2V0UmVjdDogdGFyZ2V0UmVjdCh7IHRvcDogMjkwLCB5OiAyOTAsIGJvdHRvbTogMjk1LCBoZWlnaHQ6IDUgfSksXG4gICAgICAgIHRhcmdldE9mZnNldCxcbiAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0KHsgaGVpZ2h0OiAzMDAgfSlcbiAgICAgIH0pXG4gICAgKS50b01hdGNoU25hcHNob3QoKVxuICB9KVxuXG4gIGl0KCdJdCBwdXNoZXMgdGhlIHJlY3QgdG8gdGhlIHJpZ2h0IGlmIG92ZXJmbG93aW5nIG9uIHRoZSBsZWZ0IHNpZGUnLCAoKSA9PiB7XG4gICAgZXhwZWN0KFxuICAgICAgZ2V0Rml0dGVkUG9zaXRpb24oe1xuICAgICAgICBwb3NpdGlvbjogUG9zaXRpb24uQk9UVE9NLFxuICAgICAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zKHsgd2lkdGg6IDI1MCwgaGVpZ2h0OiAxMTAgfSksXG4gICAgICAgIHRhcmdldFJlY3Q6IHRhcmdldFJlY3QoeyBsZWZ0OiAxMCwgeDogMTAsIHRvcDogMTAsIHk6IDEwLCBib3R0b206IDIwIH0pLFxuICAgICAgICB0YXJnZXRPZmZzZXQsXG4gICAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydCgpXG4gICAgICB9KVxuICAgICkudG9NYXRjaFNuYXBzaG90KClcbiAgfSlcblxuICBpdCgnSXQgcHVzaGVzIHRoZSByZWN0IHRvIHRoZSB0b3AgaWYgb3ZlcmZsb3dpbmcgb24gdGhlIGJvdHRvbSBzaWRlJywgKCkgPT4ge1xuICAgIGV4cGVjdChcbiAgICAgIGdldEZpdHRlZFBvc2l0aW9uKHtcbiAgICAgICAgcG9zaXRpb246IFBvc2l0aW9uLlRPUCxcbiAgICAgICAgZGltZW5zaW9uczogZGltZW5zaW9ucyh7IHdpZHRoOiA1MCwgaGVpZ2h0OiAxMDAgfSksXG4gICAgICAgIHRhcmdldFJlY3Q6IHRhcmdldFJlY3QoeyBsZWZ0OiAxMDAsIHg6IDEwMCwgdG9wOiA1NTAsIHk6IDU1MCB9KSxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0LFxuICAgICAgICB2aWV3cG9ydDogdmlld3BvcnQoeyBoZWlnaHQ6IDUwMCB9KVxuICAgICAgfSlcbiAgICApLnRvTWF0Y2hTbmFwc2hvdCgpXG4gIH0pXG59KVxuIl19
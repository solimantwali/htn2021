import _extends from "@babel/runtime/helpers/esm/extends";
import _objectWithoutProperties from "@babel/runtime/helpers/esm/objectWithoutProperties";
import _slicedToArray from "@babel/runtime/helpers/esm/slicedToArray";
var _excluded = ["className"];
import React, { memo, useRef, useState, useEffect, useCallback } from 'react';
import cx from 'classnames';
import { css } from 'glamor';
import PropTypes from 'prop-types';
import { Transition } from 'react-transition-group';
import { Button, IconButton } from '../../buttons';
import absolutePositions from '../../constants/src/AbsolutePosition';
import positions from '../../constants/src/Position';
import { CrossIcon } from '../../icons';
import { Pane, Card } from '../../layers';
import { Portal } from '../../portal';
import { Paragraph, Heading } from '../../typography';
var animationEasing = {
  deceleration: 'cubic-bezier(0.0, 0.0, 0.2, 1)',
  acceleration: 'cubic-bezier(0.4, 0.0, 1, 1)',
  spring: 'cubic-bezier(0.175, 0.885, 0.320, 1.175)'
};
var ANIMATION_DURATION = 240;
var openAnimation = css.keyframes('openAnimation', {
  from: {
    transform: 'translateY(100%)'
  },
  to: {
    transform: 'translateY(0)'
  }
});
var closeAnimation = css.keyframes('closeAnimation', {
  from: {
    transform: 'scale(1)',
    opacity: 1
  },
  to: {
    transform: 'scale(0.9)',
    opacity: 0
  }
});
var animationStyles = {
  '&[data-state="entering"], &[data-state="entered"]': {
    animation: "".concat(openAnimation, " ").concat(ANIMATION_DURATION, "ms ").concat(animationEasing.spring, " both")
  },
  '&[data-state="exiting"]': {
    animation: "".concat(closeAnimation, " 120ms ").concat(animationEasing.acceleration, " both")
  }
};

var closeHandler = function closeHandler(close) {
  return close();
};

var noop = function noop() {};

var emptyProps = {};
var CornerDialog = /*#__PURE__*/memo(function CornerDialog(props) {
  var title = props.title,
      _props$width = props.width,
      width = _props$width === void 0 ? 448 : _props$width,
      children = props.children,
      _props$intent = props.intent,
      intent = _props$intent === void 0 ? 'none' : _props$intent,
      isShown = props.isShown,
      _props$hasFooter = props.hasFooter,
      hasFooter = _props$hasFooter === void 0 ? true : _props$hasFooter,
      _props$hasCancel = props.hasCancel,
      hasCancel = _props$hasCancel === void 0 ? true : _props$hasCancel,
      _props$hasClose = props.hasClose,
      hasClose = _props$hasClose === void 0 ? true : _props$hasClose,
      _props$cancelLabel = props.cancelLabel,
      cancelLabel = _props$cancelLabel === void 0 ? 'Close' : _props$cancelLabel,
      _props$confirmLabel = props.confirmLabel,
      confirmLabel = _props$confirmLabel === void 0 ? 'Learn More' : _props$confirmLabel,
      onOpenComplete = props.onOpenComplete,
      _props$onCloseComplet = props.onCloseComplete,
      onCloseComplete = _props$onCloseComplet === void 0 ? noop : _props$onCloseComplet,
      _props$onCancel = props.onCancel,
      onCancel = _props$onCancel === void 0 ? closeHandler : _props$onCancel,
      _props$onConfirm = props.onConfirm,
      onConfirm = _props$onConfirm === void 0 ? closeHandler : _props$onConfirm,
      _props$containerProps = props.containerProps,
      containerProps = _props$containerProps === void 0 ? emptyProps : _props$containerProps,
      _props$position = props.position,
      position = _props$position === void 0 ? positions.BOTTOM_RIGHT : _props$position;

  var _useState = useState(false),
      _useState2 = _slicedToArray(_useState, 2),
      exiting = _useState2[0],
      setExiting = _useState2[1];

  var _useState3 = useState(!props.isShown),
      _useState4 = _slicedToArray(_useState3, 2),
      exited = _useState4[0],
      setExited = _useState4[1];

  var transitionRef = useRef(null);
  useEffect(function () {
    if (isShown) {
      setExited(false);
    }
  }, [isShown]);
  var handleExited = useCallback(function () {
    setExiting(false);
    setExited(true);
    onCloseComplete();
  }, [onCloseComplete]);
  var handleClose = useCallback(function () {
    return setExiting(true);
  }, []);
  var handleCancel = useCallback(function () {
    onCancel(handleClose);
  }, [onCancel, handleClose]);
  var handleConfirm = useCallback(function () {
    onConfirm(handleClose);
  }, [onConfirm, handleClose]);
  var renderChildren = useCallback(function () {
    if (typeof children === 'function') {
      return children({
        close: handleClose
      });
    }

    if (typeof children === 'string') {
      return /*#__PURE__*/React.createElement(Paragraph, {
        size: 400,
        color: "muted"
      }, children);
    }

    return children;
  }, [children, handleClose]);

  if (exited) {
    return null;
  }

  var containerClassName = containerProps.className,
      remainingContainerProps = _objectWithoutProperties(containerProps, _excluded);

  return /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(Transition, {
    nodeRef: transitionRef,
    appear: true,
    unmountOnExit: true,
    timeout: ANIMATION_DURATION,
    "in": isShown && !exiting,
    onExited: handleExited,
    onEntered: onOpenComplete
  }, function (state) {
    return /*#__PURE__*/React.createElement(Card, _extends({
      ref: transitionRef,
      role: "dialog",
      backgroundColor: "white",
      elevation: 4,
      width: width,
      className: cx(css(animationStyles).toString(), containerClassName),
      "data-state": state,
      padding: 32,
      position: "fixed"
    }, absolutePositions[Object.keys(absolutePositions).includes(position) ? position : positions.BOTTOM_RIGHT], remainingContainerProps), /*#__PURE__*/React.createElement(Pane, {
      display: "flex",
      alignItems: "center",
      marginBottom: 12
    }, /*#__PURE__*/React.createElement(Heading, {
      is: "h4",
      size: 600,
      flex: "1"
    }, title), hasClose && /*#__PURE__*/React.createElement(IconButton, {
      icon: CrossIcon,
      appearance: "minimal",
      onClick: handleClose
    })), /*#__PURE__*/React.createElement(Pane, {
      overflowY: "auto",
      "data-state": state
    }, renderChildren()), hasFooter && /*#__PURE__*/React.createElement(Pane, {
      marginTop: 24,
      flexShrink: 0,
      display: "flex",
      flexDirection: "row-reverse"
    }, /*#__PURE__*/React.createElement(Button, {
      appearance: "primary",
      intent: intent,
      marginLeft: 8,
      onClick: handleConfirm
    }, confirmLabel), hasCancel && /*#__PURE__*/React.createElement(Button, {
      onClick: handleCancel
    }, cancelLabel)));
  }));
});
CornerDialog.propTypes = {
  /**
   * Children can be a string, node or a function accepting `({ close })`.
   * When passing a string, <Paragraph size={400} color="muted" /> is used to wrap the string.
   */
  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,

  /**
   * The intent of the CornerDialog. Used for the button.
   */
  intent: PropTypes.oneOf(['none', 'success', 'warning', 'danger']),

  /**
   * When true, the dialog is shown.
   */
  isShown: PropTypes.bool,

  /**
   * Title of the Dialog. Titles should use Title Case.
   */
  title: PropTypes.node,

  /**
   * Function that will be called when the exit transition is complete.
   */
  onCloseComplete: PropTypes.func,

  /**
   * Function that will be called when the enter transition is complete.
   */
  onOpenComplete: PropTypes.func,

  /**
   * When true, the footer with the cancel and confirm button is shown.
   */
  hasFooter: PropTypes.bool,

  /**
   * Function that will be called when the confirm button is clicked.
   * This does not close the Dialog. A close function will be passed
   * as a paramater you can use to close the dialog.
   *
   * `onConfirm={(close) => close()}`
   */
  onConfirm: PropTypes.func,

  /**
   * Label of the confirm button.
   */
  confirmLabel: PropTypes.string,

  /**
   * When true, the cancel button is shown.
   */
  hasCancel: PropTypes.bool,

  /**
   * When true, the close button is shown.
   */
  hasClose: PropTypes.bool,

  /**
   * Function that will be called when the cancel button is clicked.
   * This closes the Dialog by default.
   *
   * `onCancel={(close) => close()}`
   */
  onCancel: PropTypes.func,

  /**
   * Label of the cancel button.
   */
  cancelLabel: PropTypes.string,

  /**
   * Width of the Dialog.
   */
  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),

  /**
   * Props that are passed to the dialog container.
   */
  containerProps: PropTypes.object,

  /**
   * Props that will set position of corner dialog
   */
  position: PropTypes.oneOf([positions.TOP_LEFT, positions.TOP_RIGHT, positions.BOTTOM_LEFT, positions.BOTTOM_RIGHT])
};
export default CornerDialog;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb3JuZXItZGlhbG9nL3NyYy9Db3JuZXJEaWFsb2cuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJtZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsImN4IiwiY3NzIiwiUHJvcFR5cGVzIiwiVHJhbnNpdGlvbiIsIkJ1dHRvbiIsIkljb25CdXR0b24iLCJhYnNvbHV0ZVBvc2l0aW9ucyIsInBvc2l0aW9ucyIsIkNyb3NzSWNvbiIsIlBhbmUiLCJDYXJkIiwiUG9ydGFsIiwiUGFyYWdyYXBoIiwiSGVhZGluZyIsImFuaW1hdGlvbkVhc2luZyIsImRlY2VsZXJhdGlvbiIsImFjY2VsZXJhdGlvbiIsInNwcmluZyIsIkFOSU1BVElPTl9EVVJBVElPTiIsIm9wZW5BbmltYXRpb24iLCJrZXlmcmFtZXMiLCJmcm9tIiwidHJhbnNmb3JtIiwidG8iLCJjbG9zZUFuaW1hdGlvbiIsIm9wYWNpdHkiLCJhbmltYXRpb25TdHlsZXMiLCJhbmltYXRpb24iLCJjbG9zZUhhbmRsZXIiLCJjbG9zZSIsIm5vb3AiLCJlbXB0eVByb3BzIiwiQ29ybmVyRGlhbG9nIiwicHJvcHMiLCJ0aXRsZSIsIndpZHRoIiwiY2hpbGRyZW4iLCJpbnRlbnQiLCJpc1Nob3duIiwiaGFzRm9vdGVyIiwiaGFzQ2FuY2VsIiwiaGFzQ2xvc2UiLCJjYW5jZWxMYWJlbCIsImNvbmZpcm1MYWJlbCIsIm9uT3BlbkNvbXBsZXRlIiwib25DbG9zZUNvbXBsZXRlIiwib25DYW5jZWwiLCJvbkNvbmZpcm0iLCJjb250YWluZXJQcm9wcyIsInBvc2l0aW9uIiwiQk9UVE9NX1JJR0hUIiwiZXhpdGluZyIsInNldEV4aXRpbmciLCJleGl0ZWQiLCJzZXRFeGl0ZWQiLCJ0cmFuc2l0aW9uUmVmIiwiaGFuZGxlRXhpdGVkIiwiaGFuZGxlQ2xvc2UiLCJoYW5kbGVDYW5jZWwiLCJoYW5kbGVDb25maXJtIiwicmVuZGVyQ2hpbGRyZW4iLCJjb250YWluZXJDbGFzc05hbWUiLCJjbGFzc05hbWUiLCJyZW1haW5pbmdDb250YWluZXJQcm9wcyIsInN0YXRlIiwidG9TdHJpbmciLCJPYmplY3QiLCJrZXlzIiwiaW5jbHVkZXMiLCJwcm9wVHlwZXMiLCJvbmVPZlR5cGUiLCJub2RlIiwiZnVuYyIsImlzUmVxdWlyZWQiLCJvbmVPZiIsImJvb2wiLCJzdHJpbmciLCJudW1iZXIiLCJvYmplY3QiLCJUT1BfTEVGVCIsIlRPUF9SSUdIVCIsIkJPVFRPTV9MRUZUIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBT0EsS0FBUCxJQUFnQkMsSUFBaEIsRUFBc0JDLE1BQXRCLEVBQThCQyxRQUE5QixFQUF3Q0MsU0FBeEMsRUFBbURDLFdBQW5ELFFBQXNFLE9BQXRFO0FBQ0EsT0FBT0MsRUFBUCxNQUFlLFlBQWY7QUFDQSxTQUFTQyxHQUFULFFBQW9CLFFBQXBCO0FBQ0EsT0FBT0MsU0FBUCxNQUFzQixZQUF0QjtBQUNBLFNBQVNDLFVBQVQsUUFBMkIsd0JBQTNCO0FBQ0EsU0FBU0MsTUFBVCxFQUFpQkMsVUFBakIsUUFBbUMsZUFBbkM7QUFDQSxPQUFPQyxpQkFBUCxNQUE4QixzQ0FBOUI7QUFDQSxPQUFPQyxTQUFQLE1BQXNCLDhCQUF0QjtBQUNBLFNBQVNDLFNBQVQsUUFBMEIsYUFBMUI7QUFDQSxTQUFTQyxJQUFULEVBQWVDLElBQWYsUUFBMkIsY0FBM0I7QUFDQSxTQUFTQyxNQUFULFFBQXVCLGNBQXZCO0FBQ0EsU0FBU0MsU0FBVCxFQUFvQkMsT0FBcEIsUUFBbUMsa0JBQW5DO0FBRUEsSUFBTUMsZUFBZSxHQUFHO0FBQ3RCQyxFQUFBQSxZQUFZLEVBQUUsZ0NBRFE7QUFFdEJDLEVBQUFBLFlBQVksRUFBRSw4QkFGUTtBQUd0QkMsRUFBQUEsTUFBTSxFQUFFO0FBSGMsQ0FBeEI7QUFNQSxJQUFNQyxrQkFBa0IsR0FBRyxHQUEzQjtBQUVBLElBQU1DLGFBQWEsR0FBR2xCLEdBQUcsQ0FBQ21CLFNBQUosQ0FBYyxlQUFkLEVBQStCO0FBQ25EQyxFQUFBQSxJQUFJ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QUFDRjtBQUNBO0FBQ0U5QixFQUFBQSxXQUFXLEVBQUV4QyxTQUFTLENBQUMwRSxNQXhFQTs7QUEwRXZCO0FBQ0Y7QUFDQTtBQUNFekMsRUFBQUEsS0FBSyxFQUFFakMsU0FBUyxDQUFDb0UsU0FBVixDQUFvQixDQUFDcEUsU0FBUyxDQUFDMEUsTUFBWCxFQUFtQjFFLFNBQVMsQ0FBQzJFLE1BQTdCLENBQXBCLENBN0VnQjs7QUErRXZCO0FBQ0Y7QUFDQTtBQUNFN0IsRUFBQUEsY0FBYyxFQUFFOUMsU0FBUyxDQUFDNEUsTUFsRkg7O0FBb0Z2QjtBQUNGO0FBQ0E7QUFDRTdCLEVBQUFBLFFBQVEsRUFBRS9DLFNBQVMsQ0FBQ3dFLEtBQVYsQ0FBZ0IsQ0FBQ25FLFNBQVMsQ0FBQ3dFLFFBQVgsRUFBcUJ4RSxTQUFTLENBQUN5RSxTQUEvQixFQUEwQ3pFLFNBQVMsQ0FBQzBFLFdBQXBELEVBQWlFMUUsU0FBUyxDQUFDMkMsWUFBM0UsQ0FBaEI7QUF2RmEsQ0FBekI7QUEwRkEsZUFBZWxCLFlBQWYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdnbGFtb3InXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgeyBUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QtdHJhbnNpdGlvbi1ncm91cCdcbmltcG9ydCB7IEJ1dHRvbiwgSWNvbkJ1dHRvbiB9IGZyb20gJy4uLy4uL2J1dHRvbnMnXG5pbXBvcnQgYWJzb2x1dGVQb3NpdGlvbnMgZnJvbSAnLi4vLi4vY29uc3RhbnRzL3NyYy9BYnNvbHV0ZVBvc2l0aW9uJ1xuaW1wb3J0IHBvc2l0aW9ucyBmcm9tICcuLi8uLi9jb25zdGFudHMvc3JjL1Bvc2l0aW9uJ1xuaW1wb3J0IHsgQ3Jvc3NJY29uIH0gZnJvbSAnLi4vLi4vaWNvbnMnXG5pbXBvcnQgeyBQYW5lLCBDYXJkIH0gZnJvbSAnLi4vLi4vbGF5ZXJzJ1xuaW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAnLi4vLi4vcG9ydGFsJ1xuaW1wb3J0IHsgUGFyYWdyYXBoLCBIZWFkaW5nIH0gZnJvbSAnLi4vLi4vdHlwb2dyYXBoeSdcblxuY29uc3QgYW5pbWF0aW9uRWFzaW5nID0ge1xuICBkZWNlbGVyYXRpb246ICdjdWJpYy1iZXppZXIoMC4wLCAwLjAsIDAuMiwgMSknLFxuICBhY2NlbGVyYXRpb246ICdjdWJpYy1iZXppZXIoMC40LCAwLjAsIDEsIDEpJyxcbiAgc3ByaW5nOiAnY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMjAsIDEuMTc1KSdcbn1cblxuY29uc3QgQU5JTUFUSU9OX0RVUkFUSU9OID0gMjQwXG5cbmNvbnN0IG9wZW5BbmltYXRpb24gPSBjc3Mua2V5ZnJhbWVzKCdvcGVuQW5pbWF0aW9uJywge1xuICBmcm9tOiB7XG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgxMDAlKSdcbiAgfSxcbiAgdG86IHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApJ1xuICB9XG59KVxuXG5jb25zdCBjbG9zZUFuaW1hdGlvbiA9IGNzcy5rZXlmcmFtZXMoJ2Nsb3NlQW5pbWF0aW9uJywge1xuICBmcm9tOiB7XG4gICAgdHJhbnNmb3JtOiAnc2NhbGUoMSknLFxuICAgIG9wYWNpdHk6IDFcbiAgfSxcbiAgdG86IHtcbiAgICB0cmFuc2Zvcm06ICdzY2FsZSgwLjkpJyxcbiAgICBvcGFjaXR5OiAwXG4gIH1cbn0pXG5cbmNvbnN0IGFuaW1hdGlvblN0eWxlcyA9IHtcbiAgJyZbZGF0YS1zdGF0ZT1cImVudGVyaW5nXCJdLCAmW2RhdGEtc3RhdGU9XCJlbnRlcmVkXCJdJzoge1xuICAgIGFuaW1hdGlvbjogYCR7b3BlbkFuaW1hdGlvbn0gJHtBTklNQVRJT05fRFVSQVRJT059bXMgJHthbmltYXRpb25FYXNpbmcuc3ByaW5nfSBib3RoYFxuICB9LFxuICAnJltkYXRhLXN0YXRlPVwiZXhpdGluZ1wiXSc6IHtcbiAgICBhbmltYXRpb246IGAke2Nsb3NlQW5pbWF0aW9ufSAxMjBtcyAke2FuaW1hdGlvbkVhc2luZy5hY2NlbGVyYXRpb259IGJvdGhgXG4gIH1cbn1cblxuY29uc3QgY2xvc2VIYW5kbGVyID0gY2xvc2UgPT4gY2xvc2UoKVxuY29uc3Qgbm9vcCA9ICgpID0+IHt9XG5jb25zdCBlbXB0eVByb3BzID0ge31cblxuY29uc3QgQ29ybmVyRGlhbG9nID0gbWVtbyhmdW5jdGlvbiBDb3JuZXJEaWFsb2cocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHRpdGxlLFxuICAgIHdpZHRoID0gNDQ4LFxuICAgIGNoaWxkcmVuLFxuICAgIGludGVudCA9ICdub25lJyxcbiAgICBpc1Nob3duLFxuICAgIGhhc0Zvb3RlciA9IHRydWUsXG4gICAgaGFzQ2FuY2VsID0gdHJ1ZSxcbiAgICBoYXNDbG9zZSA9IHRydWUsXG4gICAgY2FuY2VsTGFiZWwgPSAnQ2xvc2UnLFxuICAgIGNvbmZpcm1MYWJlbCA9ICdMZWFybiBNb3JlJyxcbiAgICBvbk9wZW5Db21wbGV0ZSxcbiAgICBvbkNsb3NlQ29tcGxldGUgPSBub29wLFxuICAgIG9uQ2FuY2VsID0gY2xvc2VIYW5kbGVyLFxuICAgIG9uQ29uZmlybSA9IGNsb3NlSGFuZGxlcixcbiAgICBjb250YWluZXJQcm9wcyA9IGVtcHR5UHJvcHMsXG4gICAgcG9zaXRpb24gPSBwb3NpdGlvbnMuQk9UVE9NX1JJR0hUXG4gIH0gPSBwcm9wc1xuXG4gIGNvbnN0IFtleGl0aW5nLCBzZXRFeGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZXhpdGVkLCBzZXRFeGl0ZWRdID0gdXNlU3RhdGUoIXByb3BzLmlzU2hvd24pXG4gIGNvbnN0IHRyYW5zaXRpb25SZWYgPSB1c2VSZWYobnVsbClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc1Nob3duKSB7XG4gICAgICBzZXRFeGl0ZWQoZmFsc2UpXG4gICAgfVxuICB9LCBbaXNTaG93bl0pXG5cbiAgY29uc3QgaGFuZGxlRXhpdGVkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEV4aXRpbmcoZmFsc2UpXG4gICAgc2V0RXhpdGVkKHRydWUpXG5cbiAgICBvbkNsb3NlQ29tcGxldGUoKVxuICB9LCBbb25DbG9zZUNvbXBsZXRlXSlcblxuICBjb25zdCBoYW5kbGVDbG9zZSA9IHVzZUNhbGxiYWNrKCgpID0+IHNldEV4aXRpbmcodHJ1ZSksIFtdKVxuXG4gIGNvbnN0IGhhbmRsZUNhbmNlbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBvbkNhbmNlbChoYW5kbGVDbG9zZSlcbiAgfSwgW29uQ2FuY2VsLCBoYW5kbGVDbG9zZV0pXG5cbiAgY29uc3QgaGFuZGxlQ29uZmlybSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBvbkNvbmZpcm0oaGFuZGxlQ2xvc2UpXG4gIH0sIFtvbkNvbmZpcm0sIGhhbmRsZUNsb3NlXSlcblxuICBjb25zdCByZW5kZXJDaGlsZHJlbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW4oeyBjbG9zZTogaGFuZGxlQ2xvc2UgfSlcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFBhcmFncmFwaCBzaXplPXs0MDB9IGNvbG9yPVwibXV0ZWRcIj5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvUGFyYWdyYXBoPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBjaGlsZHJlblxuICB9LCBbY2hpbGRyZW4sIGhhbmRsZUNsb3NlXSlcblxuICBpZiAoZXhpdGVkKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBjb250YWluZXJDbGFzc05hbWUsIC4uLnJlbWFpbmluZ0NvbnRhaW5lclByb3BzIH0gPSBjb250YWluZXJQcm9wc1xuXG4gIHJldHVybiAoXG4gICAgPFBvcnRhbD5cbiAgICAgIDxUcmFuc2l0aW9uXG4gICAgICAgIG5vZGVSZWY9e3RyYW5zaXRpb25SZWZ9XG4gICAgICAgIGFwcGVhclxuICAgICAgICB1bm1vdW50T25FeGl0XG4gICAgICAgIHRpbWVvdXQ9e0FOSU1BVElPTl9EVVJBVElPTn1cbiAgICAgICAgaW49e2lzU2hvd24gJiYgIWV4aXRpbmd9XG4gICAgICAgIG9uRXhpdGVkPXtoYW5kbGVFeGl0ZWR9XG4gICAgICAgIG9uRW50ZXJlZD17b25PcGVuQ29tcGxldGV9XG4gICAgICA+XG4gICAgICAgIHtzdGF0ZSA9PiAoXG4gICAgICAgICAgPENhcmRcbiAgICAgICAgICAgIHJlZj17dHJhbnNpdGlvblJlZn1cbiAgICAgICAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yPVwid2hpdGVcIlxuICAgICAgICAgICAgZWxldmF0aW9uPXs0fVxuICAgICAgICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjeChjc3MoYW5pbWF0aW9uU3R5bGVzKS50b1N0cmluZygpLCBjb250YWluZXJDbGFzc05hbWUpfVxuICAgICAgICAgICAgZGF0YS1zdGF0ZT17c3RhdGV9XG4gICAgICAgICAgICBwYWRkaW5nPXszMn1cbiAgICAgICAgICAgIHBvc2l0aW9uPVwiZml4ZWRcIlxuICAgICAgICAgICAgey4uLmFic29sdXRlUG9zaXRpb25zW1xuICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhYnNvbHV0ZVBvc2l0aW9ucykuaW5jbHVkZXMocG9zaXRpb24pID8gcG9zaXRpb24gOiBwb3NpdGlvbnMuQk9UVE9NX1JJR0hUXG4gICAgICAgICAgICBdfVxuICAgICAgICAgICAgey4uLnJlbWFpbmluZ0NvbnRhaW5lclByb3BzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxQYW5lIGRpc3BsYXk9XCJmbGV4XCIgYWxpZ25JdGVtcz1cImNlbnRlclwiIG1hcmdpbkJvdHRvbT17MTJ9PlxuICAgICAgICAgICAgICA8SGVhZGluZyBpcz1cImg0XCIgc2l6ZT17NjAwfSBmbGV4PVwiMVwiPlxuICAgICAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICAgICAgPC9IZWFkaW5nPlxuICAgICAgICAgICAgICB7aGFzQ2xvc2UgJiYgPEljb25CdXR0b24gaWNvbj17Q3Jvc3NJY29ufSBhcHBlYXJhbmNlPVwibWluaW1hbFwiIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfSAvPn1cbiAgICAgICAgICAgIDwvUGFuZT5cblxuICAgICAgICAgICAgPFBhbmUgb3ZlcmZsb3dZPVwiYXV0b1wiIGRhdGEtc3RhdGU9e3N0YXRlfT5cbiAgICAgICAgICAgICAge3JlbmRlckNoaWxkcmVuKCl9XG4gICAgICAgICAgICA8L1BhbmU+XG5cbiAgICAgICAgICAgIHtoYXNGb290ZXIgJiYgKFxuICAgICAgICAgICAgICA8UGFuZSBtYXJnaW5Ub3A9ezI0fSBmbGV4U2hyaW5rPXswfSBkaXNwbGF5PVwiZmxleFwiIGZsZXhEaXJlY3Rpb249XCJyb3ctcmV2ZXJzZVwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gYXBwZWFyYW5jZT1cInByaW1hcnlcIiBpbnRlbnQ9e2ludGVudH0gbWFyZ2luTGVmdD17OH0gb25DbGljaz17aGFuZGxlQ29uZmlybX0+XG4gICAgICAgICAgICAgICAgICB7Y29uZmlybUxhYmVsfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIHtoYXNDYW5jZWwgJiYgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9PntjYW5jZWxMYWJlbH08L0J1dHRvbj59XG4gICAgICAgICAgICAgIDwvUGFuZT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9DYXJkPlxuICAgICAgICApfVxuICAgICAgPC9UcmFuc2l0aW9uPlxuICAgIDwvUG9ydGFsPlxuICApXG59KVxuXG5Db3JuZXJEaWFsb2cucHJvcFR5cGVzID0ge1xuICAvKipcbiAgICogQ2hpbGRyZW4gY2FuIGJlIGEgc3RyaW5nLCBub2RlIG9yIGEgZnVuY3Rpb24gYWNjZXB0aW5nIGAoeyBjbG9zZSB9KWAuXG4gICAqIFdoZW4gcGFzc2luZyBhIHN0cmluZywgPFBhcmFncmFwaCBzaXplPXs0MDB9IGNvbG9yPVwibXV0ZWRcIiAvPiBpcyB1c2VkIHRvIHdyYXAgdGhlIHN0cmluZy5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubm9kZSwgUHJvcFR5cGVzLmZ1bmNdKS5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBUaGUgaW50ZW50IG9mIHRoZSBDb3JuZXJEaWFsb2cuIFVzZWQgZm9yIHRoZSBidXR0b24uXG4gICAqL1xuICBpbnRlbnQ6IFByb3BUeXBlcy5vbmVPZihbJ25vbmUnLCAnc3VjY2VzcycsICd3YXJuaW5nJywgJ2RhbmdlciddKSxcblxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgZGlhbG9nIGlzIHNob3duLlxuICAgKi9cbiAgaXNTaG93bjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFRpdGxlIG9mIHRoZSBEaWFsb2cuIFRpdGxlcyBzaG91bGQgdXNlIFRpdGxlIENhc2UuXG4gICAqL1xuICB0aXRsZTogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgZXhpdCB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLlxuICAgKi9cbiAgb25DbG9zZUNvbXBsZXRlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBlbnRlciB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLlxuICAgKi9cbiAgb25PcGVuQ29tcGxldGU6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBmb290ZXIgd2l0aCB0aGUgY2FuY2VsIGFuZCBjb25maXJtIGJ1dHRvbiBpcyBzaG93bi5cbiAgICovXG4gIGhhc0Zvb3RlcjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgY29uZmlybSBidXR0b24gaXMgY2xpY2tlZC5cbiAgICogVGhpcyBkb2VzIG5vdCBjbG9zZSB0aGUgRGlhbG9nLiBBIGNsb3NlIGZ1bmN0aW9uIHdpbGwgYmUgcGFzc2VkXG4gICAqIGFzIGEgcGFyYW1hdGVyIHlvdSBjYW4gdXNlIHRvIGNsb3NlIHRoZSBkaWFsb2cuXG4gICAqXG4gICAqIGBvbkNvbmZpcm09eyhjbG9zZSkgPT4gY2xvc2UoKX1gXG4gICAqL1xuICBvbkNvbmZpcm06IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBMYWJlbCBvZiB0aGUgY29uZmlybSBidXR0b24uXG4gICAqL1xuICBjb25maXJtTGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIGNhbmNlbCBidXR0b24gaXMgc2hvd24uXG4gICAqL1xuICBoYXNDYW5jZWw6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBjbG9zZSBidXR0b24gaXMgc2hvd24uXG4gICAqL1xuICBoYXNDbG9zZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgY2FuY2VsIGJ1dHRvbiBpcyBjbGlja2VkLlxuICAgKiBUaGlzIGNsb3NlcyB0aGUgRGlhbG9nIGJ5IGRlZmF1bHQuXG4gICAqXG4gICAqIGBvbkNhbmNlbD17KGNsb3NlKSA9PiBjbG9zZSgpfWBcbiAgICovXG4gIG9uQ2FuY2VsOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogTGFiZWwgb2YgdGhlIGNhbmNlbCBidXR0b24uXG4gICAqL1xuICBjYW5jZWxMYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogV2lkdGggb2YgdGhlIERpYWxvZy5cbiAgICovXG4gIHdpZHRoOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSksXG5cbiAgLyoqXG4gICAqIFByb3BzIHRoYXQgYXJlIHBhc3NlZCB0byB0aGUgZGlhbG9nIGNvbnRhaW5lci5cbiAgICovXG4gIGNvbnRhaW5lclByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBQcm9wcyB0aGF0IHdpbGwgc2V0IHBvc2l0aW9uIG9mIGNvcm5lciBkaWFsb2dcbiAgICovXG4gIHBvc2l0aW9uOiBQcm9wVHlwZXMub25lT2YoW3Bvc2l0aW9ucy5UT1BfTEVGVCwgcG9zaXRpb25zLlRPUF9SSUdIVCwgcG9zaXRpb25zLkJPVFRPTV9MRUZULCBwb3NpdGlvbnMuQk9UVE9NX1JJR0hUXSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29ybmVyRGlhbG9nXG4iXX0=
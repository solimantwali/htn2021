import React from 'react';
import { render } from '@testing-library/react';
import { LockIcon } from '../../icons';
import { defaultTheme } from '../../themes';
import SmallExample from '../fixtures/SmallExample';
import SmallMinimalExample from '../fixtures/SmallMinimalExample';
import EmptyState from '../src/EmptyState';
describe('Empty States', function () {
  it('does not crash when rendering', function () {
    expect(function () {
      return render( /*#__PURE__*/React.createElement(EmptyState, {
        title: "My Empty States",
        icon: /*#__PURE__*/React.createElement(LockIcon, {
          color: defaultTheme.tokens.colors.gray500
        }),
        iconBgColor: defaultTheme.tokens.colors.gray200
      }));
    }).not.toThrowError();
  });
  it('should render an icon and a title', function () {
    var _render = render( /*#__PURE__*/React.createElement(EmptyState, {
      title: "My Empty States",
      icon: /*#__PURE__*/React.createElement(LockIcon, {
        color: defaultTheme.tokens.colors.gray500
      }),
      iconBgColor: defaultTheme.tokens.colors.gray200
    })),
        getByText = _render.getByText;

    expect(getByText('My Empty States')).toBeVisible();
  });
  it('should render decription when passed in', function () {
    var _render2 = render( /*#__PURE__*/React.createElement(EmptyState, {
      title: "My Empty States",
      icon: /*#__PURE__*/React.createElement(LockIcon, {
        color: defaultTheme.tokens.colors.gray500
      }),
      iconBgColor: defaultTheme.tokens.colors.gray200,
      description: "Some description"
    })),
        getByText = _render2.getByText;

    expect(getByText('Some description')).toBeVisible();
  });
  it('should render primary button when passed in', function () {
    var _render3 = render( /*#__PURE__*/React.createElement(EmptyState, {
      title: "My Empty States",
      icon: /*#__PURE__*/React.createElement(LockIcon, {
        color: defaultTheme.tokens.colors.gray500
      }),
      iconBgColor: defaultTheme.tokens.colors.gray200,
      primaryCta: /*#__PURE__*/React.createElement(EmptyState.PrimaryButton, null, "Primary Action")
    })),
        getByRole = _render3.getByRole;

    expect(getByRole('button', {
      name: 'Primary Action'
    })).toBeVisible();
  });
  it('should render link button when passed in', function () {
    var _render4 = render( /*#__PURE__*/React.createElement(EmptyState, {
      title: "My Empty States",
      icon: /*#__PURE__*/React.createElement(LockIcon, {
        color: defaultTheme.tokens.colors.gray500
      }),
      iconBgColor: defaultTheme.tokens.colors.gray200,
      anchorCta: /*#__PURE__*/React.createElement(EmptyState.LinkButton, {
        href: "https://segment.com/docs/",
        target: "_blank"
      }, "Link to Documentation")
    })),
        getByRole = _render4.getByRole;

    expect(getByRole('link')).toBeVisible();
  }); // Small Minimal Example with just icon and title

  it('should render icon and title in minimal popup', function () {
    var _render5 = render( /*#__PURE__*/React.createElement(SmallMinimalExample, {
      popoverProps: {
        isShown: true,
        statelessProps: {
          'data-testid': 'empty-state-container'
        }
      }
    })),
        getByTestId = _render5.getByTestId;

    var container = getByTestId('empty-state-container');
    expect(container.querySelector('svg')).toBeVisible();
    expect(container.querySelector('svg')).toHaveAttribute('data-icon', 'hand-up');
  }); // Small Example

  it('should render icon, title, description, CTA in popup', function () {
    var _render6 = render( /*#__PURE__*/React.createElement(SmallExample, {
      popoverProps: {
        isShown: true,
        statelessProps: {
          'data-testid': 'empty-state-container'
        }
      }
    })),
        getAllByText = _render6.getAllByText,
        getByRole = _render6.getByRole,
        getByTestId = _render6.getByTestId;

    var container = getByTestId('empty-state-container');
    expect(getAllByText('You need permission to access these sources')).toHaveLength(1);
    expect(getAllByText('If you believe you should have accesss to this page, please check with your Workspace Owner or request access below.')).toHaveLength(1);
    expect(getByRole('button', {
      name: 'Request Access'
    })).toBeVisible();
    expect(container.querySelector('svg')).toBeVisible();
    expect(container.querySelector('svg')).toHaveAttribute('data-icon', 'lock');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9lbXB0eS1zdGF0ZXMvX190ZXN0c19fL0VtcHR5U3RhdGUudGVzdC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlbmRlciIsIkxvY2tJY29uIiwiZGVmYXVsdFRoZW1lIiwiU21hbGxFeGFtcGxlIiwiU21hbGxNaW5pbWFsRXhhbXBsZSIsIkVtcHR5U3RhdGUiLCJkZXNjcmliZSIsIml0IiwiZXhwZWN0IiwidG9rZW5zIiwiY29sb3JzIiwiZ3JheTUwMCIsImdyYXkyMDAiLCJub3QiLCJ0b1Rocm93RXJyb3IiLCJnZXRCeVRleHQiLCJ0b0JlVmlzaWJsZSIsImdldEJ5Um9sZSIsIm5hbWUiLCJpc1Nob3duIiwic3RhdGVsZXNzUHJvcHMiLCJnZXRCeVRlc3RJZCIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJnZXRBbGxCeVRleHQiLCJ0b0hhdmVMZW5ndGgiXSwibWFwcGluZ3MiOiJBQUFBLE9BQU9BLEtBQVAsTUFBa0IsT0FBbEI7QUFDQSxTQUFTQyxNQUFULFFBQXVCLHdCQUF2QjtBQUNBLFNBQVNDLFFBQVQsUUFBeUIsYUFBekI7QUFDQSxTQUFTQyxZQUFULFFBQTZCLGNBQTdCO0FBQ0EsT0FBT0MsWUFBUCxNQUF5QiwwQkFBekI7QUFDQSxPQUFPQyxtQkFBUCxNQUFnQyxpQ0FBaEM7QUFDQSxPQUFPQyxVQUFQLE1BQXVCLG1CQUF2QjtBQUVBQyxRQUFRLENBQUMsY0FBRCxFQUFpQixZQUFNO0FBQzdCQyxFQUFBQSxFQUFFLENBQUMsK0JBQUQsRUFBa0MsWUFBTTtBQUN4Q0MsSUFBQUEsTUFBTSxDQUFDO0FBQUEsYUFDTFIsTUFBTSxlQUNKLG9CQUFDLFVBQUQ7QUFDRSxRQUFBLEtBQUssRUFBQyxpQkFEUjtBQUVFLFFBQUEsSUFBSSxlQUFFLG9CQUFDLFFBQUQ7QUFBVSxVQUFBLEtBQUssRUFBRUUsWUFBWSxDQUFDTyxNQUFiLENBQW9CQyxNQUFwQixDQUEyQkM7QUFBNUMsVUFGUjtBQUdF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b0VDLFlBQXBFLENBQWlGLENBQWpGO0FBQ0FsQixJQUFBQSxNQUFNLENBQ0ppQixZQUFZLENBQ1Ysc0hBRFUsQ0FEUixDQUFOLENBSUVDLFlBSkYsQ0FJZSxDQUpmO0FBS0FsQixJQUFBQSxNQUFNLENBQUNTLFNBQVMsQ0FBQyxRQUFELEVBQVc7QUFBRUMsTUFBQUEsSUFBSSxFQUFFO0FBQVIsS0FBWCxDQUFWLENBQU4sQ0FBd0RGLFdBQXhEO0FBQ0FSLElBQUFBLE1BQU0sQ0FBQ2MsU0FBUyxDQUFDQyxhQUFWLENBQXdCLEtBQXhCLENBQUQsQ0FBTixDQUF1Q1AsV0FBdkM7QUFDQVIsSUFBQUEsTUFBTSxDQUFDYyxTQUFTLENBQUNDLGFBQVYsQ0FBd0IsS0FBeEIsQ0FBRCxDQUFOLENBQXVDQyxlQUF2QyxDQUF1RCxXQUF2RCxFQUFvRSxNQUFwRTtBQUNELEdBZEMsQ0FBRjtBQWVELENBNUZPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyByZW5kZXIgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0IHsgTG9ja0ljb24gfSBmcm9tICcuLi8uLi9pY29ucydcbmltcG9ydCB7IGRlZmF1bHRUaGVtZSB9IGZyb20gJy4uLy4uL3RoZW1lcydcbmltcG9ydCBTbWFsbEV4YW1wbGUgZnJvbSAnLi4vZml4dHVyZXMvU21hbGxFeGFtcGxlJ1xuaW1wb3J0IFNtYWxsTWluaW1hbEV4YW1wbGUgZnJvbSAnLi4vZml4dHVyZXMvU21hbGxNaW5pbWFsRXhhbXBsZSdcbmltcG9ydCBFbXB0eVN0YXRlIGZyb20gJy4uL3NyYy9FbXB0eVN0YXRlJ1xuXG5kZXNjcmliZSgnRW1wdHkgU3RhdGVzJywgKCkgPT4ge1xuICBpdCgnZG9lcyBub3QgY3Jhc2ggd2hlbiByZW5kZXJpbmcnLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxFbXB0eVN0YXRlXG4gICAgICAgICAgdGl0bGU9XCJNeSBFbXB0eSBTdGF0ZXNcIlxuICAgICAgICAgIGljb249ezxMb2NrSWNvbiBjb2xvcj17ZGVmYXVsdFRoZW1lLnRva2Vucy5jb2xvcnMuZ3JheTUwMH0gLz59XG4gICAgICAgICAgaWNvbkJnQ29sb3I9e2RlZmF1bHRUaGVtZS50b2tlbnMuY29sb3JzLmdyYXkyMDB9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgKS5ub3QudG9UaHJvd0Vycm9yKClcbiAgfSlcblxuICBpdCgnc2hvdWxkIHJlbmRlciBhbiBpY29uIGFuZCBhIHRpdGxlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXG4gICAgICA8RW1wdHlTdGF0ZVxuICAgICAgICB0aXRsZT1cIk15IEVtcHR5IFN0YXRlc1wiXG4gICAgICAgIGljb249ezxMb2NrSWNvbiBjb2xvcj17ZGVmYXVsdFRoZW1lLnRva2Vucy5jb2xvcnMuZ3JheTUwMH0gLz59XG4gICAgICAgIGljb25CZ0NvbG9yPXtkZWZhdWx0VGhlbWUudG9rZW5zLmNvbG9ycy5ncmF5MjAwfVxuICAgICAgLz5cbiAgICApXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnTXkgRW1wdHkgU3RhdGVzJykpLnRvQmVWaXNpYmxlKClcbiAgfSlcblxuICBpdCgnc2hvdWxkIHJlbmRlciBkZWNyaXB0aW9uIHdoZW4gcGFzc2VkIGluJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXG4gICAgICA8RW1wdHlTdGF0ZVxuICAgICAgICB0aXRsZT1cIk15IEVtcHR5IFN0YXRlc1wiXG4gICAgICAgIGljb249ezxMb2NrSWNvbiBjb2xvcj17ZGVmYXVsdFRoZW1lLnRva2Vucy5jb2xvcnMuZ3JheTUwMH0gLz59XG4gICAgICAgIGljb25CZ0NvbG9yPXtkZWZhdWx0VGhlbWUudG9rZW5zLmNvbG9ycy5ncmF5MjAwfVxuICAgICAgICBkZXNjcmlwdGlvbj1cIlNvbWUgZGVzY3JpcHRpb25cIlxuICAgICAgLz5cbiAgICApXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnU29tZSBkZXNjcmlwdGlvbicpKS50b0JlVmlzaWJsZSgpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCByZW5kZXIgcHJpbWFyeSBidXR0b24gd2hlbiBwYXNzZWQgaW4nLCAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVJvbGUgfSA9IHJlbmRlcihcbiAgICAgIDxFbXB0eVN0YXRlXG4gICAgICAgIHRpdGxlPVwiTXkgRW1wdHkgU3RhdGVzXCJcbiAgICAgICAgaWNvbj17PExvY2tJY29uIGNvbG9yPXtkZWZhdWx0VGhlbWUudG9rZW5zLmNvbG9ycy5ncmF5NTAwfSAvPn1cbiAgICAgICAgaWNvbkJnQ29sb3I9e2RlZmF1bHRUaGVtZS50b2tlbnMuY29sb3JzLmdyYXkyMDB9XG4gICAgICAgIHByaW1hcnlDdGE9ezxFbXB0eVN0YXRlLlByaW1hcnlCdXR0b24+UHJpbWFyeSBBY3Rpb248L0VtcHR5U3RhdGUuUHJpbWFyeUJ1dHRvbj59XG4gICAgICAvPlxuICAgIClcbiAgICBleHBlY3QoZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdQcmltYXJ5IEFjdGlvbicgfSkpLnRvQmVWaXNpYmxlKClcbiAgfSlcblxuICBpdCgnc2hvdWxkIHJlbmRlciBsaW5rIGJ1dHRvbiB3aGVuIHBhc3NlZCBpbicsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5Um9sZSB9ID0gcmVuZGVyKFxuICAgICAgPEVtcHR5U3RhdGVcbiAgICAgICAgdGl0bGU9XCJNeSBFbXB0eSBTdGF0ZXNcIlxuICAgICAgICBpY29uPXs8TG9ja0ljb24gY29sb3I9e2RlZmF1bHRUaGVtZS50b2tlbnMuY29sb3JzLmdyYXk1MDB9IC8+fVxuICAgICAgICBpY29uQmdDb2xvcj17ZGVmYXVsdFRoZW1lLnRva2Vucy5jb2xvcnMuZ3JheTIwMH1cbiAgICAgICAgYW5jaG9yQ3RhPXtcbiAgICAgICAgICA8RW1wdHlTdGF0ZS5MaW5rQnV0dG9uIGhyZWY9XCJodHRwczovL3NlZ21lbnQuY29tL2RvY3MvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgICBMaW5rIHRvIERvY3VtZW50YXRpb25cbiAgICAgICAgICA8L0VtcHR5U3RhdGUuTGlua0J1dHRvbj5cbiAgICAgICAgfVxuICAgICAgLz5cbiAgICApXG4gICAgZXhwZWN0KGdldEJ5Um9sZSgnbGluaycpKS50b0JlVmlzaWJsZSgpXG4gIH0pXG5cbiAgLy8gU21hbGwgTWluaW1hbCBFeGFtcGxlIHdpdGgganVzdCBpY29uIGFuZCB0aXRsZVxuICBpdCgnc2hvdWxkIHJlbmRlciBpY29uIGFuZCB0aXRsZSBpbiBtaW5pbWFsIHBvcHVwJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcihcbiAgICAgIDxTbWFsbE1pbmltYWxFeGFtcGxlXG4gICAgICAgIHBvcG92ZXJQcm9wcz17eyBpc1Nob3duOiB0cnVlLCBzdGF0ZWxlc3NQcm9wczogeyAnZGF0YS10ZXN0aWQnOiAnZW1wdHktc3RhdGUtY29udGFpbmVyJyB9IH19XG4gICAgICAvPlxuICAgIClcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRCeVRlc3RJZCgnZW1wdHktc3RhdGUtY29udGFpbmVyJylcbiAgICBleHBlY3QoY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpKS50b0JlVmlzaWJsZSgpXG4gICAgZXhwZWN0KGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdzdmcnKSkudG9IYXZlQXR0cmlidXRlKCdkYXRhLWljb24nLCAnaGFuZC11cCcpXG4gIH0pXG5cbiAgLy8gU21hbGwgRXhhbXBsZVxuICBpdCgnc2hvdWxkIHJlbmRlciBpY29uLCB0aXRsZSwgZGVzY3JpcHRpb24sIENUQSBpbiBwb3B1cCcsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEFsbEJ5VGV4dCwgZ2V0QnlSb2xlLCBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxuICAgICAgPFNtYWxsRXhhbXBsZSBwb3BvdmVyUHJvcHM9e3sgaXNTaG93bjogdHJ1ZSwgc3RhdGVsZXNzUHJvcHM6IHsgJ2RhdGEtdGVzdGlkJzogJ2VtcHR5LXN0YXRlLWNvbnRhaW5lcicgfSB9fSAvPlxuICAgIClcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRCeVRlc3RJZCgnZW1wdHktc3RhdGUtY29udGFpbmVyJylcbiAgICBleHBlY3QoZ2V0QWxsQnlUZXh0KCdZb3UgbmVlZCBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGVzZSBzb3VyY2VzJykpLnRvSGF2ZUxlbmd0aCgxKVxuICAgIGV4cGVjdChcbiAgICAgIGdldEFsbEJ5VGV4dChcbiAgICAgICAgJ0lmIHlvdSBiZWxpZXZlIHlvdSBzaG91bGQgaGF2ZSBhY2Nlc3NzIHRvIHRoaXMgcGFnZSwgcGxlYXNlIGNoZWNrIHdpdGggeW91ciBXb3Jrc3BhY2UgT3duZXIgb3IgcmVxdWVzdCBhY2Nlc3MgYmVsb3cuJ1xuICAgICAgKVxuICAgICkudG9IYXZlTGVuZ3RoKDEpXG4gICAgZXhwZWN0KGdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAnUmVxdWVzdCBBY2Nlc3MnIH0pKS50b0JlVmlzaWJsZSgpXG4gICAgZXhwZWN0KGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdzdmcnKSkudG9CZVZpc2libGUoKVxuICAgIGV4cGVjdChjb250YWluZXIucXVlcnlTZWxlY3Rvcignc3ZnJykpLnRvSGF2ZUF0dHJpYnV0ZSgnZGF0YS1pY29uJywgJ2xvY2snKVxuICB9KVxufSlcbiJdfQ==
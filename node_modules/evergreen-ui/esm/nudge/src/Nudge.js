import _extends from "@babel/runtime/helpers/esm/extends";
import _defineProperty from "@babel/runtime/helpers/esm/defineProperty";

var _POSITION_KEYS;

import React, { memo } from 'react';
import { css } from 'glamor';
import PropTypes from 'prop-types';
import Positions from '../../constants/src/Position';
import { Pane } from '../../layers';
import { majorScale } from '../../scales';
import { useTheme } from '../../theme';
import { Tooltip } from '../../tooltip';
var pulseAnimation = css.keyframes('pulseAnimation', {
  '0%': {
    transform: 'scale(1)'
  },
  '50%': {
    transform: 'scale(1.9)'
  },
  '100%': {
    transform: 'scale(1)'
  }
});
var animationTiming = 'cubic-bezier(0, 0, 0.58, 1)';
var animationDuration = '1.8s';
var pulsarAnimationClassName = css({
  animation: "".concat(pulseAnimation, " ").concat(animationDuration, " ").concat(animationTiming, " both infinite")
}).toString();
var POSITION_KEYS = (_POSITION_KEYS = {}, _defineProperty(_POSITION_KEYS, Positions.TOP_LEFT, ['top', 'left']), _defineProperty(_POSITION_KEYS, Positions.TOP_RIGHT, ['top', 'right']), _defineProperty(_POSITION_KEYS, Positions.BOTTOM_LEFT, ['bottom', 'left']), _defineProperty(_POSITION_KEYS, Positions.BOTTOM_RIGHT, ['bottom', 'right']), _POSITION_KEYS);

var getPositionProps = function getPositionProps(_ref) {
  var position = _ref.position,
      size = _ref.size;
  var keys = POSITION_KEYS[position];
  var props = {};
  keys.forEach(function (key) {
    var isYAxisKey = key === 'top' || key === 'bottom';

    if (isYAxisKey) {
      props[key] = -(size / 2);
    } else {
      props[key] = -size;
    }
  });
  return props;
};

export var Pulsar = /*#__PURE__*/memo(function (_ref2) {
  var _ref2$position = _ref2.position,
      position = _ref2$position === void 0 ? Positions.TOP_RIGHT : _ref2$position,
      _ref2$size = _ref2.size,
      size = _ref2$size === void 0 ? majorScale(1) : _ref2$size;

  var _useTheme = useTheme(),
      colors = _useTheme.colors;

  var positionProps = getPositionProps({
    position: position,
    size: size
  });
  var outerPadding = size * 0.25;
  return /*#__PURE__*/React.createElement(Pane, _extends({
    position: "absolute",
    borderRadius: "50%",
    backgroundColor: colors.blue100,
    boxSizing: "content-box",
    opacity: 0.7,
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    padding: outerPadding,
    className: pulsarAnimationClassName
  }, positionProps), /*#__PURE__*/React.createElement(Pane, {
    width: size,
    height: size,
    backgroundColor: colors.blue200,
    borderRadius: "50%",
    opacity: 0.7
  }));
});
Pulsar.propTypes = {
  /**
   * The position of the pulsar
   */
  position: PropTypes.oneOf([Positions.TOP_LEFT, Positions.TOP_RIGHT, Positions.BOTTOM_LEFT, Positions.BOTTOM_RIGHT]),

  /**
   * The width/height of the dot
   */
  size: PropTypes.number
};
export var Nudge = function Nudge(_ref3) {
  var children = _ref3.children,
      _ref3$isShown = _ref3.isShown,
      isShown = _ref3$isShown === void 0 ? false : _ref3$isShown,
      _ref3$position = _ref3.position,
      position = _ref3$position === void 0 ? Positions.TOP_RIGHT : _ref3$position,
      size = _ref3.size,
      tooltipContent = _ref3.tooltipContent;
  return /*#__PURE__*/React.createElement(Tooltip, {
    content: tooltipContent,
    position: position,
    isShown: isShown ? undefined : false
  }, /*#__PURE__*/React.createElement(Pane, {
    position: "relative"
  }, isShown && /*#__PURE__*/React.createElement(Pulsar, {
    position: position,
    size: size
  }), children));
};
Nudge.displayName = "Nudge";
Nudge.propTypes = {
  /**
   * The position for the Puslar and the Tooltip
   */
  position: PropTypes.oneOf([Positions.TOP_LEFT, Positions.TOP_RIGHT, Positions.BOTTOM_LEFT, Positions.BOTTOM_RIGHT]),

  /**
   * Size of the Pulsar
   */
  size: Pulsar.propTypes.size,

  /**
   * Wether or not the Pulsar/Tooltip is shown
   */
  isShown: PropTypes.bool,

  /**
   * Content for the tooltip
   */
  tooltipContent: Tooltip.propTypes.content,

  /**
   * Content for the pulsar/tooltip to be anchored too
   */
  children: PropTypes.node
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9udWRnZS9zcmMvTnVkZ2UuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJtZW1vIiwiY3NzIiwiUHJvcFR5cGVzIiwiUG9zaXRpb25zIiwiUGFuZSIsIm1ham9yU2NhbGUiLCJ1c2VUaGVtZSIsIlRvb2x0aXAiLCJwdWxzZUFuaW1hdGlvbiIsImtleWZyYW1lcyIsInRyYW5zZm9ybSIsImFuaW1hdGlvblRpbWluZyIsImFuaW1hdGlvbkR1cmF0aW9uIiwicHVsc2FyQW5pbWF0aW9uQ2xhc3NOYW1lIiwiYW5pbWF0aW9uIiwidG9TdHJpbmciLCJQT1NJVElPTl9LRVlTIiwiVE9QX0xFRlQiLCJUT1BfUklHSFQiLCJCT1RUT01fTEVGVCIsIkJPVFRPTV9SSUdIVCIsImdldFBvc2l0aW9uUHJvcHMiLCJwb3NpdGlvbiIsInNpemUiLCJrZXlzIiwicHJvcHMiLCJmb3JFYWNoIiwia2V5IiwiaXNZQXhpc0tleSIsIlB1bHNhciIsImNvbG9ycyIsInBvc2l0aW9uUHJvcHMiLCJvdXRlclBhZGRpbmciLCJibHVlMTAwIiwiYmx1ZTIwMCIsInByb3BUeXBlcyIsIm9uZU9mIiwibnVtYmVyIiwiTnVkZ2UiLCJjaGlsZHJlbiIsImlzU2hvd24iLCJ0b29sdGlwQ29udGVudCIsInVuZGVmaW5lZCIsImJvb2wiLCJjb250ZW50Iiwibm9kZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPQSxLQUFQLElBQWdCQyxJQUFoQixRQUE0QixPQUE1QjtBQUNBLFNBQVNDLEdBQVQsUUFBb0IsUUFBcEI7QUFDQSxPQUFPQyxTQUFQLE1BQXNCLFlBQXRCO0FBQ0EsT0FBT0MsU0FBUCxNQUFzQiw4QkFBdEI7QUFDQSxTQUFTQyxJQUFULFFBQXFCLGNBQXJCO0FBQ0EsU0FBU0MsVUFBVCxRQUEyQixjQUEzQjtBQUNBLFNBQVNDLFFBQVQsUUFBeUIsYUFBekI7QUFDQSxTQUFTQyxPQUFULFFBQXdCLGVBQXhCO0FBRUEsSUFBTUMsY0FBYyxHQUFHUCxHQUFHLENBQUNR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bEMsSUFEZCxFQUVHZ0IsUUFGSCxDQURGLENBREY7QUFRRCxDQVRNO0FBQU1ELEs7QUFXYkEsS0FBSyxDQUFDSCxTQUFOLEdBQWtCO0FBQ2hCO0FBQ0Y7QUFDQTtBQUNFYixFQUFBQSxRQUFRLEVBQUVwQixTQUFTLENBQUNrQyxLQUFWLENBQWdCLENBQUNqQyxTQUFTLENBQUNjLFFBQVgsRUFBcUJkLFNBQVMsQ0FBQ2UsU0FBL0IsRUFBMENmLFNBQVMsQ0FBQ2dCLFdBQXBELEVBQWlFaEIsU0FBUyxDQUFDaUIsWUFBM0UsQ0FBaEIsQ0FKTTs7QUFNaEI7QUFDRjtBQUNBO0FBQ0VHLEVBQUFBLElBQUksRUFBRU0sTUFBTSxDQUFDTSxTQUFQLENBQWlCWixJQVRQOztBQVdoQjtBQUNGO0FBQ0E7QUFDRWlCLEVBQUFBLE9BQU8sRUFBRXRDLFNBQVMsQ0FBQ3lDLElBZEg7O0FBZ0JoQjtBQUNGO0FBQ0E7QUFDRUYsRUFBQUEsY0FBYyxFQUFFbEMsT0FBTyxDQUFDNEIsU0FBUixDQUFrQlMsT0FuQmxCOztBQXFCaEI7QUFDRjtBQUNBO0FBQ0VMLEVBQUFBLFFBQVEsRUFBRXJDLFNBQVMsQ0FBQzJDO0FBeEJKLENBQWxCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IG1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNzcyB9IGZyb20gJ2dsYW1vcidcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBQb3NpdGlvbnMgZnJvbSAnLi4vLi4vY29uc3RhbnRzL3NyYy9Qb3NpdGlvbidcbmltcG9ydCB7IFBhbmUgfSBmcm9tICcuLi8uLi9sYXllcnMnXG5pbXBvcnQgeyBtYWpvclNjYWxlIH0gZnJvbSAnLi4vLi4vc2NhbGVzJ1xuaW1wb3J0IHsgdXNlVGhlbWUgfSBmcm9tICcuLi8uLi90aGVtZSdcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICcuLi8uLi90b29sdGlwJ1xuXG5jb25zdCBwdWxzZUFuaW1hdGlvbiA9IGNzcy5rZXlmcmFtZXMoJ3B1bHNlQW5pbWF0aW9uJywge1xuICAnMCUnOiB7XG4gICAgdHJhbnNmb3JtOiAnc2NhbGUoMSknXG4gIH0sXG4gICc1MCUnOiB7XG4gICAgdHJhbnNmb3JtOiAnc2NhbGUoMS45KSdcbiAgfSxcbiAgJzEwMCUnOiB7XG4gICAgdHJhbnNmb3JtOiAnc2NhbGUoMSknXG4gIH1cbn0pXG5cbmNvbnN0IGFuaW1hdGlvblRpbWluZyA9ICdjdWJpYy1iZXppZXIoMCwgMCwgMC41OCwgMSknXG5jb25zdCBhbmltYXRpb25EdXJhdGlvbiA9ICcxLjhzJ1xuXG5jb25zdCBwdWxzYXJBbmltYXRpb25DbGFzc05hbWUgPSBjc3Moe1xuICBhbmltYXRpb246IGAke3B1bHNlQW5pbWF0aW9ufSAke2FuaW1hdGlvbkR1cmF0aW9ufSAke2FuaW1hdGlvblRpbWluZ30gYm90aCBpbmZpbml0ZWBcbn0pLnRvU3RyaW5nKClcblxuY29uc3QgUE9TSVRJT05fS0VZUyA9IHtcbiAgW1Bvc2l0aW9ucy5UT1BfTEVGVF06IFsndG9wJywgJ2xlZnQnXSxcbiAgW1Bvc2l0aW9ucy5UT1BfUklHSFRdOiBbJ3RvcCcsICdyaWdodCddLFxuICBbUG9zaXRpb25zLkJPVFRPTV9MRUZUXTogWydib3R0b20nLCAnbGVmdCddLFxuICBbUG9zaXRpb25zLkJPVFRPTV9SSUdIVF06IFsnYm90dG9tJywgJ3JpZ2h0J11cbn1cblxuY29uc3QgZ2V0UG9zaXRpb25Qcm9wcyA9ICh7IHBvc2l0aW9uLCBzaXplIH0pID0+IHtcbiAgY29uc3Qga2V5cyA9IFBPU0lUSU9OX0tFWVNbcG9zaXRpb25dXG4gIGNvbnN0IHByb3BzID0ge31cblxuICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICBjb25zdCBpc1lBeGlzS2V5ID0ga2V5ID09PSAndG9wJyB8fCBrZXkgPT09ICdib3R0b20nXG5cbiAgICBpZiAoaXNZQXhpc0tleSkge1xuICAgICAgcHJvcHNba2V5XSA9IC0oc2l6ZSAvIDIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3BzW2tleV0gPSAtc2l6ZVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gcHJvcHNcbn1cblxuZXhwb3J0IGNvbnN0IFB1bHNhciA9IG1lbW8oKHsgcG9zaXRpb24gPSBQb3NpdGlvbnMuVE9QX1JJR0hULCBzaXplID0gbWFqb3JTY2FsZSgxKSB9KSA9PiB7XG4gIGNvbnN0IHsgY29sb3JzIH0gPSB1c2VUaGVtZSgpXG4gIGNvbnN0IHBvc2l0aW9uUHJvcHMgPSBnZXRQb3NpdGlvblByb3BzKHsgcG9zaXRpb24sIHNpemUgfSlcbiAgY29uc3Qgb3V0ZXJQYWRkaW5nID0gc2l6ZSAqIDAuMjVcblxuICByZXR1cm4gKFxuICAgIDxQYW5lXG4gICAgICBwb3NpdGlvbj1cImFic29sdXRlXCJcbiAgICAgIGJvcmRlclJhZGl1cz1cIjUwJVwiXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I9e2NvbG9ycy5ibHVlMTAwfVxuICAgICAgYm94U2l6aW5nPVwiY29udGVudC1ib3hcIlxuICAgICAgb3BhY2l0eT17MC43fVxuICAgICAgZGlzcGxheT1cImZsZXhcIlxuICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiXG4gICAgICBwYWRkaW5nPXtvdXRlclBhZGRpbmd9XG4gICAgICBjbGFzc05hbWU9e3B1bHNhckFuaW1hdGlvbkNsYXNzTmFtZX1cbiAgICAgIHsuLi5wb3NpdGlvblByb3BzfVxuICAgID5cbiAgICAgIDxQYW5lIHdpZHRoPXtzaXplfSBoZWlnaHQ9e3NpemV9IGJhY2tncm91bmRDb2xvcj17Y29sb3JzLmJsdWUyMDB9IGJvcmRlclJhZGl1cz1cIjUwJVwiIG9wYWNpdHk9ezAuN30gLz5cbiAgICA8L1BhbmU+XG4gIClcbn0pXG5cblB1bHNhci5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIHB1bHNhclxuICAgKi9cbiAgcG9zaXRpb246IFByb3BUeXBlcy5vbmVPZihbUG9zaXRpb25zLlRPUF9MRUZULCBQb3NpdGlvbnMuVE9QX1JJR0hULCBQb3NpdGlvbnMuQk9UVE9NX0xFRlQsIFBvc2l0aW9ucy5CT1RUT01fUklHSFRdKSxcblxuICAvKipcbiAgICogVGhlIHdpZHRoL2hlaWdodCBvZiB0aGUgZG90XG4gICAqL1xuICBzaXplOiBQcm9wVHlwZXMubnVtYmVyXG59XG5cbmV4cG9ydCBjb25zdCBOdWRnZSA9ICh7IGNoaWxkcmVuLCBpc1Nob3duID0gZmFsc2UsIHBvc2l0aW9uID0gUG9zaXRpb25zLlRPUF9SSUdIVCwgc2l6ZSwgdG9vbHRpcENvbnRlbnQgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxUb29sdGlwIGNvbnRlbnQ9e3Rvb2x0aXBDb250ZW50fSBwb3NpdGlvbj17cG9zaXRpb259IGlzU2hvd249e2lzU2hvd24gPyB1bmRlZmluZWQgOiBmYWxzZX0+XG4gICAgICA8UGFuZSBwb3NpdGlvbj1cInJlbGF0aXZlXCI+XG4gICAgICAgIHtpc1Nob3duICYmIDxQdWxzYXIgcG9zaXRpb249e3Bvc2l0aW9ufSBzaXplPXtzaXplfSAvPn1cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9QYW5lPlxuICAgIDwvVG9vbHRpcD5cbiAgKVxufVxuXG5OdWRnZS5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBUaGUgcG9zaXRpb24gZm9yIHRoZSBQdXNsYXIgYW5kIHRoZSBUb29sdGlwXG4gICAqL1xuICBwb3NpdGlvbjogUHJvcFR5cGVzLm9uZU9mKFtQb3NpdGlvbnMuVE9QX0xFRlQsIFBvc2l0aW9ucy5UT1BfUklHSFQsIFBvc2l0aW9ucy5CT1RUT01fTEVGVCwgUG9zaXRpb25zLkJPVFRPTV9SSUdIVF0pLFxuXG4gIC8qKlxuICAgKiBTaXplIG9mIHRoZSBQdWxzYXJcbiAgICovXG4gIHNpemU6IFB1bHNhci5wcm9wVHlwZXMuc2l6ZSxcblxuICAvKipcbiAgICogV2V0aGVyIG9yIG5vdCB0aGUgUHVsc2FyL1Rvb2x0aXAgaXMgc2hvd25cbiAgICovXG4gIGlzU2hvd246IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBDb250ZW50IGZvciB0aGUgdG9vbHRpcFxuICAgKi9cbiAgdG9vbHRpcENvbnRlbnQ6IFRvb2x0aXAucHJvcFR5cGVzLmNvbnRlbnQsXG5cbiAgLyoqXG4gICAqIENvbnRlbnQgZm9yIHRoZSBwdWxzYXIvdG9vbHRpcCB0byBiZSBhbmNob3JlZCB0b29cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZVxufVxuIl19
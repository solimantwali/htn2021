import _defineProperty from "@babel/runtime/helpers/esm/defineProperty";
import _extends from "@babel/runtime/helpers/esm/extends";
import _slicedToArray from "@babel/runtime/helpers/esm/slicedToArray";
import _objectWithoutProperties from "@babel/runtime/helpers/esm/objectWithoutProperties";
var _excluded = ["defaultValue", "disabled", "height", "name", "onChange", "options", "size", "value"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

import React, { memo, forwardRef, useState, useEffect, useCallback } from 'react';
import PropTypes from 'prop-types';
import { spacing, position, layout, dimensions } from 'ui-box';
import { Button } from '../../buttons';
import { Group } from '../../group';
import { useId } from '../../hooks';
import safeInvoke from '../../lib/safe-invoke';
import warning from '../../lib/warning';

function isControlled(value) {
  return typeof value !== 'undefined' && value !== null;
}

var SegmentedControl = /*#__PURE__*/memo( /*#__PURE__*/forwardRef(function SegmentedControl(props, ref) {
  var defaultValue = props.defaultValue,
      disabled = props.disabled,
      height = props.height,
      name = props.name,
      onChange = props.onChange,
      options = props.options,
      size = props.size,
      value = props.value,
      rest = _objectWithoutProperties(props, _excluded);

  var groupName = useId('SegmentedControl');

  if (process.env.NODE_ENV !== 'production') {
    warning(true, '<SegmentedControl> is deprecated and will be removed in the next major verison of Evergreen. Prefer Tabs for navigational elements, or form components / button groups for other use cases.');
  }

  var getDefaultValue = function getDefaultValue() {
    if (isControlled(value)) {
      return value;
    }

    return typeof defaultValue !== 'undefined' && defaultValue !== null ? defaultValue : options[0].value;
  };

  var _useState = useState(getDefaultValue()),
      _useState2 = _slicedToArray(_useState, 2),
      activeValue = _useState2[0],
      setActiveValue = _useState2[1];

  useEffect(function () {
    if (isControlled(value)) {
      setActiveValue(value);
    }
  }, [value]);
  var handleChange = useCallback(function (event) {
    event.preventDefault();
    var newValue = event.target.value; // Save a render cycle when it's a controlled input

    if (!isControlled(value)) {
      setActiveValue(newValue);
    }

    safeInvoke(onChange, newValue);
  }, [value, onChange]);
  return /*#__PURE__*/React.createElement(Group, _extends({
    ref: ref,
    display: "flex"
  }, rest), options.map(function (option, index) {
    return /*#__PURE__*/React.createElement(Button, {
      key: option.value,
      id: groupName + index,
      name: name || groupName,
      value: String(option.value),
      disabled: disabled,
      size: size,
      height: height,
      isActive: activeValue === String(option.value),
      onClick: handleChange,
      flex: "1"
    }, option.label);
  }));
}));
SegmentedControl.propTypes = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, spacing.propTypes), position.propTypes), layout.propTypes), dimensions.propTypes), {}, {
  /**
   * The options for the radios of the Segmented Control.
   */
  options: PropTypes.arrayOf(PropTypes.shape({
    label: PropTypes.node.isRequired,
    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool]).isRequired
  })).isRequired,

  /**
   * The current value of the Segmented Control when controlled.
   */
  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool]),

  /**
   * The default value of the Segmented Control when uncontrolled.
   */
  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool]),

  /**
   * Function called when the value changes.
   */
  onChange: PropTypes.func,

  /**
   * The name of the radio group.
   */
  name: PropTypes.string,

  /**
   * The size of the Segmented Control.
   */
  size: PropTypes.oneOf(['small', 'medium', 'large']),

  /**
   * When true, the Segmented Control is disabled.
   */
  disabled: PropTypes.bool
});
export default SegmentedControl;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZWdtZW50ZWQtY29udHJvbC9zcmMvU2VnbWVudGVkQ29udHJvbC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsIm1lbW8iLCJmb3J3YXJkUmVmIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsIlByb3BUeXBlcyIsInNwYWNpbmciLCJwb3NpdGlvbiIsImxheW91dCIsImRpbWVuc2lvbnMiLCJCdXR0b24iLCJHcm91cCIsInVzZUlkIiwic2FmZUludm9rZSIsIndhcm5pbmciLCJpc0NvbnRyb2xsZWQiLCJ2YWx1ZSIsIlNlZ21lbnRlZENvbnRyb2wiLCJwcm9wcyIsInJlZiIsImRlZmF1bHRWYWx1ZSIsImRpc2FibGVkIiwiaGVpZ2h0IiwibmFtZSIsIm9uQ2hhbmdlIiwib3B0aW9ucyIsInNpemUiLCJyZXN0IiwiZ3JvdXBOYW1lIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZ2V0RGVmYXVsdFZhbHVlIiwiYWN0aXZlVmFsdWUiLCJzZXRBY3RpdmVWYWx1ZSIsImhhbmRsZUNoYW5nZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJuZXdWYWx1ZSIsInRhcmdldCIsIm1hcCIsIm9wdGlvbiIsImluZGV4IiwiU3RyaW5nIiwibGFiZWwiLCJwcm9wVHlwZXMiLCJhcnJheU9mIiwic2hhcGUiLCJub2RlIiwiaXNSZXF1aXJlZCIsIm9uZU9mVHlwZSIsIm51bWJlciIsInN0cmluZyIsImJvb2wiLCJmdW5jIiwib25lT2YiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxPQUFPQSxLQUFQLElBQWdCQyxJQUFoQixFQUFzQkMsVUFBdEIsRUFBa0NDLFFBQWxDLEVBQTRDQyxTQUE1QyxFQUF1REMsV0FBdkQsUUFBMEUsT0FBMUU7QUFDQSxPQUFPQyxTQUFQLE1BQXNCLFlBQXRCO0FBQ0EsU0FBU0MsT0FBVCxFQUFrQkMsUUFBbEIsRUFBNEJDLE1BQTVCLEVBQW9DQyxVQUFwQyxRQUFzRCxRQUF0RDtBQUNBLFNBQVNDLE1BQVQsUUFBdUIsZUFBdkI7QUFDQSxTQUFTQyxLQUFULFFBQXNCLGFBQXRCO0FBQ0EsU0FBU0MsS0FBVCxRQUFzQixhQUF0QjtBQUNBLE9BQU9DLFVBQVAsTUFBdUIsdUJBQXZCO0FBQ0EsT0FBT0MsT0FBUCxNQUFvQixtQkFBcEI7O0FBRUEsU0FBU0MsWUFBVCxDQUFzQkMsS0FBdEIsRUFBNkI7QUFDM0IsU0FBTyxPQUFPQSxLQUFQLEtBQWlCLFdBQWpCLElBQWdDQSxLQUFLLEtBQUssSUFBakQ7QUFDRDs7QUFFRCxJQUFNQyxnQkFBZ0IsZ0JBQUdqQixJQUFJLGVBQzNCQyxVQUFVLENBQUMsU0FBU2dCLGdCQUFULENBQTBCQyxLQUExQixFQUFpQ0MsR0FBakMsRUFBc0M7QUFDL0MsTUFBUUMsWUFBUixHQUEwRkYsS0FBMUYsQ0FBUUUsWUFBUjtBQUFBLE1BQXNCQyxRQUF0QixHQUEwRkgsS0FBMUYsQ0FBc0JHLFFBQXRCO0FBQUEsTUFBZ0NDLE1BQWhDLEdBQTBGSixLQUExRixDQUFnQ0ksTUFBaEM7QUFBQSxNQUF3Q0MsSUFBeEMsR0FBMEZMLEtBQTFGLENBQXdDSyxJQUF4QztBQUFBLE1BQThDQyxRQUE5QyxHQUEwRk4sS0FBMUYsQ0FBOENNLFFBQTlDO0FBQUEsTUFBd0RDLE9BQXhELEdBQTBGUCxLQUExRixDQUF3RE8sT0FBeEQ7QUFBQSxNQUFpRUMsSUFBakUsR0FBMEZSLEtBQTFGLENBQWlFUSxJQUFqRTtBQUFBLE1BQXVFVixLQUF2RSxHQUEwRkUsS0FBMUYsQ0FBdUVGLEtBQXZFO0FBQUEsTUFBaUZXLElBQWpGLDRCQUEwRlQsS0FBMUY7O0FBRUEsTUFBTVUsU0FBUyxHQUFHaEIsS0FBSyxDQUFDLGtCQUFELENBQXZCOztBQUVBLE1BQUlpQixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixZQUE3QixFQUEyQztBQUN6Q2pCLElBQUFBLE9BQU8sQ0FDTCxJQURLLEVBRUwsNkxBRkssQ0FBUDtBQUlEOztBQUVELE1BQU1rQixlQUFlLEdBQUcsU0FBbEJBLGVBQWtCLEdBQU07QUFDNUIsUUFBSWpCLFlBQVksQ0FBQ0MsS0FBRCxDQUFoQixFQUF5QjtBQUN2QixhQUFPQSxLQUFQO0FBQ0Q7O0FBRUQsV0FBTyxPQUFPSSxZQUFQLEtBQXdCLFdBQXhCLElBQXVDQSxZQUFZLEtBQUssSUFBeEQsR0FBK0RBLFlBQS9ELEdBQThFSyxPQUFPLENBQUMsQ0FBRCxDQUFQLENBQVdULEtBQWhHO0FBQ0QsR0FORDs7QUFRQSxrQkFBc0NkLFFBQVEsQ0FBQzhCLGVBQWUsRUFBaEIsQ0FBOUM7QUFBQTtBQUFBLE1BQU9DLFdBQVA7QUFBQSxNQUFvQkMsY0FBcEI7O0FBRUEvQixFQUFBQSxTQUFTLENBQUMsWUFBTTtBQUNkLFFBQUlZLFlBQVksQ0FBQ0MsS0FBRCxDQUFoQixFQUF5QjtBQUN2QmtCLE1BQUFBLGNBQWMsQ0FBQ2xCLEtBQUQsQ0FBZDtBQUNEO0FBQ0YsR0FKUSxFQUlOLENBQUNBLEtBQUQsQ0FKTSxDQUFUO0FBTUEsTUFBTW1CLFlBQVksR0FBRy9CLFdBQVcsQ0FDOUIsVUFBQWdDLEtBQUssRUFBSTtBQUNQQSxJQUFBQSxLQUFLLENBQUNDLGNBQU47QUFDQSxRQUFNQyxRQUFRLEdBQUdGLEtBQUssQ0FBQ0csTUFBTixDQUFhdkIsS0FBOUIsQ0FGTyxDQUlQOztBQUNBLFFBQUksQ0FBQ0QsWUFBWSxDQUFDQyxLQUFELENBQWpCLEVBQTBCO0FBQ3hCa0IsTUFBQUEsY0FBYyxDQUFDSSxRQUFELENBQWQ7QUFDRDs7QUFFRHpCLElBQUFBLFVBQVUsQ0FBQ1csUUFBRCxFQUFXYyxRQUFYLENBQVY7QUFDRCxHQVg2QixFQVk5QixDQUFDdEIsS0FBRCxFQUFRUSxRQUFSLENBWjhCLENBQWhDO0FBZUEsc0JBQ0Usb0JBQUMsS0FBRDtBQUFPLElBQUEsR0FBRyxFQUFFTCxHQUFaO0FBQWlCLElBQUEsT0FBTyxFQUFDO0FBQXpCLEtBQW9DUSxJQUFwQyxHQUNHRixPQUFPLENBQUNlLEdBQVIsQ0FBWSxVQUFDQyxNQUFELEVBQVNDLEtBQVQ7QUFBQSx3QkFDWCxvQkFBQyxNQUFEO0FBQ0UsTUFBQSxHQUFHLEVBQUVELE1BQU0sQ0FBQ3pCLEtBRGQ7QUFFRSxNQUFBLEVBQUUsRUFBRVksU0FBUyxHQUFHYyxLQUZsQjtBQUdFLE1BQUEsSUFBSSxFQUFFbkIsSUFBSSxJQUFJSyxTQUhoQjtBQUlFLE1BQUEsS0FBSyxFQUFFZSxNQUFNLENBQUNGLE1BQU0sQ0FBQ3pCLEtBQVIsQ0FKZjtBQUtFLE1BQUEsUUFBUSxFQUFFSyxRQUxaO0FBTUUsTUFBQSxJQUFJLEVBQUVLLElBTlI7QUFPRSxNQUFBLE1BQU0sRUFBRUosTUFQVjtBQVFFLE1BQUEsUUFBUSxFQUFFVyxXQUFXLEtBQUtVLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDekIsS0FBUixDQVJsQztBQVNFLE1BQUEsT0FBTyxFQUFFbUIsWUFUWDtBQVVFLE1BQUEsSUFBSSxFQUFDO0FBVlAsT0FZR00sTUFBTSxDQUFDRyxLQVpWLENBRFc7QUFBQSxHQUFaLENBREgsQ0FERjtBQW9CRCxDQS9EUyxDQURpQixDQUE3QjtBQW1FQTNCLGdCQUFnQixDQUFDNEIsU0FBakIsNkVBSUt2QyxPQUFPLENBQUN1QyxTQUpiLEdBS0t0QyxRQUFRLENBQUNzQyxTQUxkLEdBTUtyQyxNQUFNLENBQUNxQyxTQU5aLEdBT0twQyxVQUFVLENBQUNvQyxTQVBoQjtBQVNFO0FBQ0Y7QUFDQTtBQUNFcEIsRUFBQUEsT0FBTyxFQUFFcEIsU0FBUyxDQUFDeUMsT0FBVixDQUNQekMsU0FBUyxDQUFDMEMsS0FBVixDQUFnQjtBQUNkSCxJQUFBQSxLQUFLLEVBQUV2QyxTQUFTLENBQUMyQyxJQUFWLENBQWVDLFVBRFI7QUFFZGpDLElBQUFBLEtBQUssRUFBRVgsU0FBUyxDQUFDNkMsU0FBVixDQUFvQixDQUFDN0MsU0FBUyxDQUFDOEMsTUFBWCxFQUFtQjlDLFNBQVMsQ0FBQytDLE1BQTdCLEVBQXFDL0MsU0FBUyxDQUFDZ0QsSUFBL0MsQ0FBcEIsRUFBMEVKO0FBRm5FLEdBQWhCLENBRE8sRUFLUEEsVUFqQko7O0FBbUJFO0FBQ0Y7QUFDQTtBQUNFakMsRUFBQUEsS0FBSyxFQUFFWCxTQUFTLENBQUM2QyxTQUFWLENBQW9CLENBQUM3QyxTQUFTLENBQUM4QyxNQUFYLEVBQW1COUMsU0FBUyxDQUFDK0MsTUFBN0IsRUFBcUMvQyxTQUFTLENBQUNnRCxJQUEvQyxDQUFwQixDQXRCVDs7QUF3QkU7QUFDRjtBQUNBO0FBQ0VqQyxFQUFBQSxZQUFZLEVBQUVmLFNBQVMsQ0FBQzZDLFNBQVYsQ0FBb0IsQ0FBQzdDLFNBQVMsQ0FBQzhDLE1BQVgsRUFBbUI5QyxTQUFTLENBQUMrQyxNQUE3QixFQUFxQy9DLFNBQVMsQ0FBQ2dELElBQS9DLENBQXBCLENBM0JoQjs7QUE2QkU7QUFDRjtBQUNBO0FBQ0U3QixFQUFBQSxRQUFRLEVBQUVuQixTQUFTLENBQUNpRCxJQWhDdEI7O0FBa0NFO0FBQ0Y7QUFDQTtBQUNFL0IsRUFBQUEsSUFBSSxFQUFFbEIsU0FBUyxDQUFDK0MsTUFyQ2xCOztBQXVDRTtBQUNGO0FBQ0E7QUFDRTFCLEVBQUFBLElBQUksRUFBRXJCLFNBQVMsQ0FBQ2tELEtBQVYsQ0FBZ0IsQ0FBQyxPQUFELEVBQVUsUUFBVixFQUFvQixPQUFwQixDQUFoQixDQTFDUjs7QUE0Q0U7QUFDRjtBQUNBO0FBQ0VsQyxFQUFBQSxRQUFRLEVBQUVoQixTQUFTLENBQUNnRDtBQS9DdEI7QUFrREEsZUFBZXBDLGdCQUFmIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IG1lbW8sIGZvcndhcmRSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgeyBzcGFjaW5nLCBwb3NpdGlvbiwgbGF5b3V0LCBkaW1lbnNpb25zIH0gZnJvbSAndWktYm94J1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vLi4vYnV0dG9ucydcbmltcG9ydCB7IEdyb3VwIH0gZnJvbSAnLi4vLi4vZ3JvdXAnXG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gJy4uLy4uL2hvb2tzJ1xuaW1wb3J0IHNhZmVJbnZva2UgZnJvbSAnLi4vLi4vbGliL3NhZmUtaW52b2tlJ1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAnLi4vLi4vbGliL3dhcm5pbmcnXG5cbmZ1bmN0aW9uIGlzQ29udHJvbGxlZCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbFxufVxuXG5jb25zdCBTZWdtZW50ZWRDb250cm9sID0gbWVtbyhcbiAgZm9yd2FyZFJlZihmdW5jdGlvbiBTZWdtZW50ZWRDb250cm9sKHByb3BzLCByZWYpIHtcbiAgICBjb25zdCB7IGRlZmF1bHRWYWx1ZSwgZGlzYWJsZWQsIGhlaWdodCwgbmFtZSwgb25DaGFuZ2UsIG9wdGlvbnMsIHNpemUsIHZhbHVlLCAuLi5yZXN0IH0gPSBwcm9wc1xuXG4gICAgY29uc3QgZ3JvdXBOYW1lID0gdXNlSWQoJ1NlZ21lbnRlZENvbnRyb2wnKVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIHRydWUsXG4gICAgICAgICc8U2VnbWVudGVkQ29udHJvbD4gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcmlzb24gb2YgRXZlcmdyZWVuLiBQcmVmZXIgVGFicyBmb3IgbmF2aWdhdGlvbmFsIGVsZW1lbnRzLCBvciBmb3JtIGNvbXBvbmVudHMgLyBidXR0b24gZ3JvdXBzIGZvciBvdGhlciB1c2UgY2FzZXMuJ1xuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IGdldERlZmF1bHRWYWx1ZSA9ICgpID0+IHtcbiAgICAgIGlmIChpc0NvbnRyb2xsZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZGVmYXVsdFZhbHVlICE9PSBudWxsID8gZGVmYXVsdFZhbHVlIDogb3B0aW9uc1swXS52YWx1ZVxuICAgIH1cblxuICAgIGNvbnN0IFthY3RpdmVWYWx1ZSwgc2V0QWN0aXZlVmFsdWVdID0gdXNlU3RhdGUoZ2V0RGVmYXVsdFZhbHVlKCkpXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGlzQ29udHJvbGxlZCh2YWx1ZSkpIHtcbiAgICAgICAgc2V0QWN0aXZlVmFsdWUodmFsdWUpXG4gICAgICB9XG4gICAgfSwgW3ZhbHVlXSlcblxuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgICAgZXZlbnQgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlXG5cbiAgICAgICAgLy8gU2F2ZSBhIHJlbmRlciBjeWNsZSB3aGVuIGl0J3MgYSBjb250cm9sbGVkIGlucHV0XG4gICAgICAgIGlmICghaXNDb250cm9sbGVkKHZhbHVlKSkge1xuICAgICAgICAgIHNldEFjdGl2ZVZhbHVlKG5ld1ZhbHVlKVxuICAgICAgICB9XG5cbiAgICAgICAgc2FmZUludm9rZShvbkNoYW5nZSwgbmV3VmFsdWUpXG4gICAgICB9LFxuICAgICAgW3ZhbHVlLCBvbkNoYW5nZV1cbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEdyb3VwIHJlZj17cmVmfSBkaXNwbGF5PVwiZmxleFwiIHsuLi5yZXN0fT5cbiAgICAgICAge29wdGlvbnMubWFwKChvcHRpb24sIGluZGV4KSA9PiAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAga2V5PXtvcHRpb24udmFsdWV9XG4gICAgICAgICAgICBpZD17Z3JvdXBOYW1lICsgaW5kZXh9XG4gICAgICAgICAgICBuYW1lPXtuYW1lIHx8IGdyb3VwTmFtZX1cbiAgICAgICAgICAgIHZhbHVlPXtTdHJpbmcob3B0aW9uLnZhbHVlKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAgIHNpemU9e3NpemV9XG4gICAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgICAgIGlzQWN0aXZlPXthY3RpdmVWYWx1ZSA9PT0gU3RyaW5nKG9wdGlvbi52YWx1ZSl9XG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICBmbGV4PVwiMVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge29wdGlvbi5sYWJlbH1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgKSl9XG4gICAgICA8L0dyb3VwPlxuICAgIClcbiAgfSlcbilcblxuU2VnbWVudGVkQ29udHJvbC5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBDb21wb3NlcyBzb21lIEJveCBBUElzLlxuICAgKi9cbiAgLi4uc3BhY2luZy5wcm9wVHlwZXMsXG4gIC4uLnBvc2l0aW9uLnByb3BUeXBlcyxcbiAgLi4ubGF5b3V0LnByb3BUeXBlcyxcbiAgLi4uZGltZW5zaW9ucy5wcm9wVHlwZXMsXG5cbiAgLyoqXG4gICAqIFRoZSBvcHRpb25zIGZvciB0aGUgcmFkaW9zIG9mIHRoZSBTZWdtZW50ZWQgQ29udHJvbC5cbiAgICovXG4gIG9wdGlvbnM6IFByb3BUeXBlcy5hcnJheU9mKFxuICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUuaXNSZXF1aXJlZCxcbiAgICAgIHZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYm9vbF0pLmlzUmVxdWlyZWRcbiAgICB9KVxuICApLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBTZWdtZW50ZWQgQ29udHJvbCB3aGVuIGNvbnRyb2xsZWQuXG4gICAqL1xuICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmJvb2xdKSxcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIFNlZ21lbnRlZCBDb250cm9sIHdoZW4gdW5jb250cm9sbGVkLlxuICAgKi9cbiAgZGVmYXVsdFZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYm9vbF0pLFxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgdmFsdWUgY2hhbmdlcy5cbiAgICovXG4gIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIHJhZGlvIGdyb3VwLlxuICAgKi9cbiAgbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIFNlZ21lbnRlZCBDb250cm9sLlxuICAgKi9cbiAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mKFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJ10pLFxuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBTZWdtZW50ZWQgQ29udHJvbCBpcyBkaXNhYmxlZC5cbiAgICovXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbFxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWdtZW50ZWRDb250cm9sXG4iXX0=
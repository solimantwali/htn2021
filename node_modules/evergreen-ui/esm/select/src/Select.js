import _defineProperty from "@babel/runtime/helpers/esm/defineProperty";
import _extends from "@babel/runtime/helpers/esm/extends";
import _objectWithoutProperties from "@babel/runtime/helpers/esm/objectWithoutProperties";
var _excluded = ["appearance", "autoFocus", "children", "defaultValue", "disabled", "height", "id", "isInvalid", "name", "onChange", "required", "value"],
    _excluded2 = ["className"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

import React, { memo, forwardRef } from 'react';
import PropTypes from 'prop-types';
import Box, { dimensions, spacing, position, layout } from 'ui-box';
import { useStyleConfig } from '../../hooks';
import { CaretDownIcon } from '../../icons';
import { getTextPropsForControlHeight } from '../../lib/deprecated-theme-helpers';
var internalStyles = {
  textTransform: 'default',
  WebkitAppearance: 'none',
  MozAppearance: 'none',
  border: 'none',
  flex: 1,
  background: 'none',
  width: '100%',
  WebkitFontSmoothing: 'antialiased',
  textDecoration: 'none',
  outline: 'none',
  cursor: 'pointer',
  ':-moz-focusring': {
    color: 'transparent',
    textShadow: '0 0 0 #000'
  }
};
var pseudoSelectors = {
  _disabled: '[disabled]',
  _invalid: '&[aria-invalid="true"]',
  _hover: '&:not([disabled]):hover',
  _focus: '&:not([disabled]):focus',
  _active: '&:not([disabled]):active'
};

var getIconSizeForSelect = function getIconSizeForSelect(height) {
  if (height <= 28) return 12;
  if (height <= 32) return 14; // Slightly bigger than getIconSizeForButton

  if (height <= 40) return 16;
  if (height <= 48) return 18;
  return 20;
};

var Select = /*#__PURE__*/memo( /*#__PURE__*/forwardRef(function Select(props, ref) {
  var _props$appearance = props.appearance,
      appearance = _props$appearance === void 0 ? 'default' : _props$appearance,
      autoFocus = props.autoFocus,
      children = props.children,
      defaultValue = props.defaultValue,
      disabled = props.disabled,
      heightProp = props.height,
      id = props.id,
      _props$isInvalid = props.isInvalid,
      isInvalid = _props$isInvalid === void 0 ? false : _props$isInvalid,
      name = props.name,
      onChange = props.onChange,
      required = props.required,
      value = props.value,
      restProps = _objectWithoutProperties(props, _excluded);

  var _useStyleConfig = useStyleConfig('Select', {
    appearance: appearance,
    size: restProps.size || 'medium'
  }, pseudoSelectors, internalStyles),
      themedClassName = _useStyleConfig.className,
      boxProps = _objectWithoutProperties(_useStyleConfig, _excluded2);

  var height = heightProp || boxProps.height;
  var textProps = !restProps.size && restProps.height ? getTextPropsForControlHeight(restProps.height) : {};
  var iconSize = getIconSizeForSelect(height);
  var iconMargin = height >= 36 ? 12 : 8;
  return /*#__PURE__*/React.createElement(Box, _extends({
    ref: ref,
    display: "inline-flex",
    flex: 1,
    position: "relative",
    width: "auto",
    height: height
  }, restProps, textProps), /*#__PURE__*/React.createElement(Box, _extends({
    is: "select",
    className: themedClassName,
    id: id,
    name: name,
    onChange: onChange,
    defaultValue: defaultValue,
    value: value,
    required: required,
    autoFocus: autoFocus,
    disabled: disabled,
    "aria-invalid": String(isInvalid),
    paddingLeft: Math.round(height / 3.2),
    paddingRight: iconMargin * 2 + iconSize
  }, boxProps, {
    height: "100%"
  }), children), /*#__PURE__*/React.createElement(CaretDownIcon, {
    color: "default",
    size: iconSize,
    position: "absolute",
    top: "50%",
    marginTop: -iconSize / 2,
    right: iconMargin,
    pointerEvents: "none"
  }));
}));
Select.propTypes = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, dimensions.propTypes), spacing.propTypes), position.propTypes), layout.propTypes), {}, {
  /**
   * The id attribute for the select.
   */
  id: PropTypes.string,

  /**
   * The name attribute for the select.
   */
  name: PropTypes.string,

  /**
   * The options that are passed to the select.
   */
  children: PropTypes.node,

  /**
   * The initial value of an uncontrolled select
   */
  defaultValue: PropTypes.any,

  /**
   * Function called when value changes.
   */
  onChange: PropTypes.func,

  /**
   * The value of the select.
   */
  value: PropTypes.any,

  /**
   * When true, the select is required.
   */
  required: PropTypes.bool,

  /**
   * When true, the select should auto focus.
   */
  autoFocus: PropTypes.bool,

  /**
   * When true, the select is invalid.
   */
  isInvalid: PropTypes.bool,

  /**
   * The appearance of the select. The default theme only supports default.
   */
  appearance: PropTypes.string
});
export default Select;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZWxlY3Qvc3JjL1NlbGVjdC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsIm1lbW8iLCJmb3J3YXJkUmVmIiwiUHJvcFR5cGVzIiwiQm94IiwiZGltZW5zaW9ucyIsInNwYWNpbmciLCJwb3NpdGlvbiIsImxheW91dCIsInVzZVN0eWxlQ29uZmlnIiwiQ2FyZXREb3duSWNvbiIsImdldFRleHRQcm9wc0ZvckNvbnRyb2xIZWlnaHQiLCJpbnRlcm5hbFN0eWxlcyIsInRleHRUcmFuc2Zvcm0iLCJXZWJraXRBcHBlYXJhbmNlIiwiTW96QXBwZWFyYW5jZSIsImJvcmRlciIsImZsZXgiLCJiYWNrZ3JvdW5kIiwid2lkdGgiLCJXZWJraXRGb250U21vb3RoaW5nIiwidGV4dERlY29yYXRpb24iLCJvdXRsaW5lIiwiY3Vyc29yIiwiY29sb3IiLCJ0ZXh0U2hhZG93IiwicHNldWRvU2VsZWN0b3JzIiwiX2Rpc2FibGVkIiwiX2ludmFsaWQiLCJfaG92ZXIiLCJfZm9jdXMiLCJfYWN0aXZlIiwiZ2V0SWNvblNpemVGb3JTZWxlY3QiLCJoZWlnaHQiLCJTZWxlY3QiLCJwcm9wcyIsInJlZiIsImFwcGVhcmFuY2UiLCJhdXRvRm9jdXMiLCJjaGlsZHJlbiIsImRlZmF1bHRWYWx1ZSIsImRpc2FibGVkIiwiaGVpZ2h0UHJvcCIsImlkIiwiaXNJbnZhbGlkIiwibmFtZSIsIm9uQ2hhbmdlIiwicmVxdWlyZWQiLCJ2YWx1ZSIsInJlc3RQcm9wcyIsInNpemUiLCJ0aGVtZWRDbGFzc05hbWUiLCJjbGFzc05hbWUiLCJib3hQcm9wcyIsInRleHRQcm9wcyIsImljb25TaXplIiwiaWNvbk1hcmdpbiIsIlN0cmluZyIsIk1hdGgiLCJyb3VuZCIsInByb3BUeXBlcyIsInN0cmluZyIsIm5vZGUiLCJhbnkiLCJmdW5jIiwiYm9vbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLE9BQU9BLEtBQVAsSUFBZ0JDLElBQWhCLEVBQXNCQyxVQUF0QixRQUF3QyxP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RUFBRTVDLFNBQVMsQ0FBQzhELElBdER0Qjs7QUF3REU7QUFDRjtBQUNBO0FBQ0UzQixFQUFBQSxTQUFTLEVBQUVuQyxTQUFTLENBQUM4RCxJQTNEdkI7O0FBNkRFO0FBQ0Y7QUFDQTtBQUNFckIsRUFBQUEsU0FBUyxFQUFFekMsU0FBUyxDQUFDOEQsSUFoRXZCOztBQWtFRTtBQUNGO0FBQ0E7QUFDRTVCLEVBQUFBLFVBQVUsRUFBRWxDLFNBQVMsQ0FBQzBEO0FBckV4QjtBQXdFQSxlQUFlM0IsTUFBZiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBtZW1vLCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgQm94LCB7IGRpbWVuc2lvbnMsIHNwYWNpbmcsIHBvc2l0aW9uLCBsYXlvdXQgfSBmcm9tICd1aS1ib3gnXG5pbXBvcnQgeyB1c2VTdHlsZUNvbmZpZyB9IGZyb20gJy4uLy4uL2hvb2tzJ1xuaW1wb3J0IHsgQ2FyZXREb3duSWNvbiB9IGZyb20gJy4uLy4uL2ljb25zJ1xuaW1wb3J0IHsgZ2V0VGV4dFByb3BzRm9yQ29udHJvbEhlaWdodCB9IGZyb20gJy4uLy4uL2xpYi9kZXByZWNhdGVkLXRoZW1lLWhlbHBlcnMnXG5cbmNvbnN0IGludGVybmFsU3R5bGVzID0ge1xuICB0ZXh0VHJhbnNmb3JtOiAnZGVmYXVsdCcsXG4gIFdlYmtpdEFwcGVhcmFuY2U6ICdub25lJyxcbiAgTW96QXBwZWFyYW5jZTogJ25vbmUnLFxuICBib3JkZXI6ICdub25lJyxcbiAgZmxleDogMSxcbiAgYmFja2dyb3VuZDogJ25vbmUnLFxuICB3aWR0aDogJzEwMCUnLFxuICBXZWJraXRGb250U21vb3RoaW5nOiAnYW50aWFsaWFzZWQnLFxuICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICBvdXRsaW5lOiAnbm9uZScsXG4gIGN1cnNvcjogJ3BvaW50ZXInLFxuICAnOi1tb3otZm9jdXNyaW5nJzoge1xuICAgIGNvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgIHRleHRTaGFkb3c6ICcwIDAgMCAjMDAwJ1xuICB9XG59XG5cbmNvbnN0IHBzZXVkb1NlbGVjdG9ycyA9IHtcbiAgX2Rpc2FibGVkOiAnW2Rpc2FibGVkXScsXG4gIF9pbnZhbGlkOiAnJlthcmlhLWludmFsaWQ9XCJ0cnVlXCJdJyxcbiAgX2hvdmVyOiAnJjpub3QoW2Rpc2FibGVkXSk6aG92ZXInLFxuICBfZm9jdXM6ICcmOm5vdChbZGlzYWJsZWRdKTpmb2N1cycsXG4gIF9hY3RpdmU6ICcmOm5vdChbZGlzYWJsZWRdKTphY3RpdmUnXG59XG5cbmNvbnN0IGdldEljb25TaXplRm9yU2VsZWN0ID0gaGVpZ2h0ID0+IHtcbiAgaWYgKGhlaWdodCA8PSAyOCkgcmV0dXJuIDEyXG4gIGlmIChoZWlnaHQgPD0gMzIpIHJldHVybiAxNCAvLyBTbGlnaHRseSBiaWdnZXIgdGhhbiBnZXRJY29uU2l6ZUZvckJ1dHRvblxuICBpZiAoaGVpZ2h0IDw9IDQwKSByZXR1cm4gMTZcbiAgaWYgKGhlaWdodCA8PSA0OCkgcmV0dXJuIDE4XG4gIHJldHVybiAyMFxufVxuXG5jb25zdCBTZWxlY3QgPSBtZW1vKFxuICBmb3J3YXJkUmVmKGZ1bmN0aW9uIFNlbGVjdChwcm9wcywgcmVmKSB7XG4gICAgY29uc3Qge1xuICAgICAgYXBwZWFyYW5jZSA9ICdkZWZhdWx0JyxcbiAgICAgIGF1dG9Gb2N1cyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICBoZWlnaHQ6IGhlaWdodFByb3AsXG4gICAgICBpZCxcbiAgICAgIGlzSW52YWxpZCA9IGZhbHNlLFxuICAgICAgbmFtZSxcbiAgICAgIG9uQ2hhbmdlLFxuICAgICAgcmVxdWlyZWQsXG4gICAgICB2YWx1ZSxcbiAgICAgIC4uLnJlc3RQcm9wc1xuICAgIH0gPSBwcm9wc1xuXG4gICAgY29uc3QgeyBjbGFzc05hbWU6IHRoZW1lZENsYXNzTmFtZSwgLi4uYm94UHJvcHMgfSA9IHVzZVN0eWxlQ29uZmlnKFxuICAgICAgJ1NlbGVjdCcsXG4gICAgICB7IGFwcGVhcmFuY2UsIHNpemU6IHJlc3RQcm9wcy5zaXplIHx8ICdtZWRpdW0nIH0sXG4gICAgICBwc2V1ZG9TZWxlY3RvcnMsXG4gICAgICBpbnRlcm5hbFN0eWxlc1xuICAgIClcblxuICAgIGNvbnN0IGhlaWdodCA9IGhlaWdodFByb3AgfHwgYm94UHJvcHMuaGVpZ2h0XG5cbiAgICBjb25zdCB0ZXh0UHJvcHMgPSAhcmVzdFByb3BzLnNpemUgJiYgcmVzdFByb3BzLmhlaWdodCA/IGdldFRleHRQcm9wc0ZvckNvbnRyb2xIZWlnaHQocmVzdFByb3BzLmhlaWdodCkgOiB7fVxuXG4gICAgY29uc3QgaWNvblNpemUgPSBnZXRJY29uU2l6ZUZvclNlbGVjdChoZWlnaHQpXG4gICAgY29uc3QgaWNvbk1hcmdpbiA9IGhlaWdodCA+PSAzNiA/IDEyIDogOFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCb3hcbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIGRpc3BsYXk9XCJpbmxpbmUtZmxleFwiXG4gICAgICAgIGZsZXg9ezF9XG4gICAgICAgIHBvc2l0aW9uPVwicmVsYXRpdmVcIlxuICAgICAgICB3aWR0aD1cImF1dG9cIlxuICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgey4uLnJlc3RQcm9wc31cbiAgICAgICAgey4uLnRleHRQcm9wc31cbiAgICAgID5cbiAgICAgICAgPEJveFxuICAgICAgICAgIGlzPVwic2VsZWN0XCJcbiAgICAgICAgICBjbGFzc05hbWU9e3RoZW1lZENsYXNzTmFtZX1cbiAgICAgICAgICBpZD17aWR9XG4gICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgZGVmYXVsdFZhbHVlPXtkZWZhdWx0VmFsdWV9XG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgIHJlcXVpcmVkPXtyZXF1aXJlZH1cbiAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgYXJpYS1pbnZhbGlkPXtTdHJpbmcoaXNJbnZhbGlkKX1cbiAgICAgICAgICBwYWRkaW5nTGVmdD17TWF0aC5yb3VuZChoZWlnaHQgLyAzLjIpfVxuICAgICAgICAgIHBhZGRpbmdSaWdodD17aWNvbk1hcmdpbiAqIDIgKyBpY29uU2l6ZX1cbiAgICAgICAgICB7Li4uYm94UHJvcHN9XG4gICAgICAgICAgaGVpZ2h0PVwiMTAwJVwiXG4gICAgICAgID5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvQm94PlxuICAgICAgICA8Q2FyZXREb3duSWNvblxuICAgICAgICAgIGNvbG9yPVwiZGVmYXVsdFwiXG4gICAgICAgICAgc2l6ZT17aWNvblNpemV9XG4gICAgICAgICAgcG9zaXRpb249XCJhYnNvbHV0ZVwiXG4gICAgICAgICAgdG9wPVwiNTAlXCJcbiAgICAgICAgICBtYXJnaW5Ub3A9ey1pY29uU2l6ZSAvIDJ9XG4gICAgICAgICAgcmlnaHQ9e2ljb25NYXJnaW59XG4gICAgICAgICAgcG9pbnRlckV2ZW50cz1cIm5vbmVcIlxuICAgICAgICAvPlxuICAgICAgPC9Cb3g+XG4gICAgKVxuICB9KVxuKVxuXG5TZWxlY3QucHJvcFR5cGVzID0ge1xuICAvKipcbiAgICogQ29tcG9zZXMgdGhlIGRpbWVuc2lvbnMgc3BlYyBmcm9tIHRoZSBCb3ggcHJpbWl0aXZlLlxuICAgKi9cbiAgLi4uZGltZW5zaW9ucy5wcm9wVHlwZXMsXG5cbiAgLyoqXG4gICAqIENvbXBvc2VzIHRoZSBzcGFjaW5nIHNwZWMgZnJvbSB0aGUgQm94IHByaW1pdGl2ZS5cbiAgICovXG4gIC4uLnNwYWNpbmcucHJvcFR5cGVzLFxuXG4gIC8qKlxuICAgKiBDb21wb3NlcyB0aGUgcG9zaXRpb24gc3BlYyBmcm9tIHRoZSBCb3ggcHJpbWl0aXZlLlxuICAgKi9cbiAgLi4ucG9zaXRpb24ucHJvcFR5cGVzLFxuXG4gIC8qKlxuICAgKiBDb21wb3NlcyB0aGUgbGF5b3V0IHNwZWMgZnJvbSB0aGUgQm94IHByaW1pdGl2ZS5cbiAgICovXG4gIC4uLmxheW91dC5wcm9wVHlwZXMsXG5cbiAgLyoqXG4gICAqIFRoZSBpZCBhdHRyaWJ1dGUgZm9yIHRoZSBzZWxlY3QuXG4gICAqL1xuICBpZDogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogVGhlIG5hbWUgYXR0cmlidXRlIGZvciB0aGUgc2VsZWN0LlxuICAgKi9cbiAgbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogVGhlIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRvIHRoZSBzZWxlY3QuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIFRoZSBpbml0aWFsIHZhbHVlIG9mIGFuIHVuY29udHJvbGxlZCBzZWxlY3RcbiAgICovXG4gIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLmFueSxcblxuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gdmFsdWUgY2hhbmdlcy5cbiAgICovXG4gIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBzZWxlY3QuXG4gICAqL1xuICB2YWx1ZTogUHJvcFR5cGVzLmFueSxcblxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2VsZWN0IGlzIHJlcXVpcmVkLlxuICAgKi9cbiAgcmVxdWlyZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzZWxlY3Qgc2hvdWxkIGF1dG8gZm9jdXMuXG4gICAqL1xuICBhdXRvRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzZWxlY3QgaXMgaW52YWxpZC5cbiAgICovXG4gIGlzSW52YWxpZDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFRoZSBhcHBlYXJhbmNlIG9mIHRoZSBzZWxlY3QuIFRoZSBkZWZhdWx0IHRoZW1lIG9ubHkgc3VwcG9ydHMgZGVmYXVsdC5cbiAgICovXG4gIGFwcGVhcmFuY2U6IFByb3BUeXBlcy5zdHJpbmdcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0XG4iXX0=